/*!
 * ﻿HistropediaJS v1.2.0 | Histropedia Ltd. (c) 2020 | https://js.histropedia.com
 * Use of this software is subject to our End User Licence Agreement: https://js.histropedia.com/licence.html
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var o in i)("object"==typeof exports?exports:t)[o]=i[o]}}(window,(function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=242)}([function(t,e,i){t.exports=i(169)},function(t,e,i){"use strict";var o=i(5),n=i(28).f,r=i(106),s=i(2),a=i(70),u=i(13),c=i(8),l=function(t){var e=function(e,i,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,o)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var i,h,f,p,d,g,v,m,y=t.target,w=t.global,A=t.stat,S=t.proto,b=w?o:A?o[y]:(o[y]||{}).prototype,x=w?s:s[y]||(s[y]={}),O=x.prototype;for(f in e)i=!r(w?f:y+(A?".":"#")+f,t.forced)&&b&&c(b,f),d=x[f],i&&(g=t.noTargetGet?(m=n(b,f))&&m.value:b[f]),p=i&&g?g:e[f],i&&typeof d==typeof p||(v=t.bind&&i?a(p,o):t.wrap&&i?l(p):S&&"function"==typeof p?a(Function.call,p):p,(t.sham||p&&p.sham||d&&d.sham)&&u(v,"sham",!0),x[f]=v,S&&(c(s,h=y+"Prototype")||u(s,h,{}),s[h][f]=p,t.real&&O&&!O[f]&&u(O,f,p)))}},function(t,e){t.exports={}},function(t,e,i){var o=i(2),n=i(8),r=i(61),s=i(17).f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});n(e,t)||s(e,t,{value:r.f(t)})}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")()}).call(this,i(105))},function(t,e,i){var o=i(4);t.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){var o=i(2);t.exports=function(t){return o[t+"Prototype"]}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var o=i(5),n=i(55),r=i(8),s=i(56),a=i(57),u=i(81),c=n("wks"),l=o.Symbol,h=u?l:l&&l.withoutSetter||s;t.exports=function(t){return r(c,t)||(a&&r(l,t)?c[t]=l[t]:c[t]=h("Symbol."+t)),c[t]}},function(t,e,i){t.exports=i(202)},function(t,e,i){var o=i(48),n=i(29);t.exports=function(t){return o(n(t))}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var o=i(6),n=i(17),r=i(22);t.exports=o?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var o=i(29);t.exports=function(t){return Object(o(t))}},function(t,e,i){t.exports=i(157)},function(t,e,i){t.exports=i(154)},function(t,e,i){var o=i(6),n=i(68),r=i(19),s=i(30),a=Object.defineProperty;e.f=o?a:function(t,e,i){if(r(t),e=s(e,!0),r(i),n)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=i(145)},function(t,e,i){var o=i(12);t.exports=function(t){if(!o(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var o=i(33),n=Math.min;t.exports=function(t){return t>0?n(o(t),9007199254740991):0}},function(t,e,i){var o=i(6),n=i(4),r=i(8),s=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,e){if(r(a,t))return a[t];e||(e={});var i=[][t],c=!!r(e,"ACCESSORS")&&e.ACCESSORS,l=r(e,0)?e[0]:u,h=r(e,1)?e[1]:void 0;return a[t]=!!i&&!n((function(){if(c&&!o)return!0;var t={length:-1};c?s(t,1,{enumerable:!0,get:u}):t[1]=1,i.call(t,l,h)}))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var o=i(2),n=i(5),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(o[t])||r(n[t]):o[t]&&o[t][e]||n[t]&&n[t][e]}},function(t,e,i){var o=i(58),n=i(17).f,r=i(13),s=i(8),a=i(122),u=i(9)("toStringTag");t.exports=function(t,e,i,c){if(t){var l=i?t:t.prototype;s(l,u)||n(l,u,{configurable:!0,value:e}),c&&!o&&r(l,"toString",a)}}},function(t,e,i){t.exports=i(206)},function(t,e,i){t.exports=i(215)},function(t,e,i){t.exports=i(224)},function(t,e,i){var o=i(6),n=i(47),r=i(22),s=i(11),a=i(30),u=i(8),c=i(68),l=Object.getOwnPropertyDescriptor;e.f=o?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var o=i(12);t.exports=function(t,e){if(!o(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!o(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var o=i(72),n=i(51);t.exports=Object.keys||function(t){return o(t,n)}},function(t,e){var i=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:i)(t)}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e,i){var o=i(55),n=i(56),r=o("keys");t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e){t.exports=!0},function(t,e,i){var o=i(70),n=i(48),r=i(14),s=i(20),a=i(60),u=[].push,c=function(t){var e=1==t,i=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h;return function(p,d,g,v){for(var m,y,w=r(p),A=n(w),S=o(d,g,3),b=s(A.length),x=0,O=v||a,P=e?O(p,b):i?O(p,0):void 0;b>x;x++)if((f||x in A)&&(y=S(m=A[x],x,w),t))if(e)P[x]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:u.call(P,m)}else if(l)return!1;return h?-1:c||l?l:P}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,i){var o=i(49);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,i){"use strict";var o=i(4);t.exports=function(t,e){var i=[][t];return!!i&&o((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e,i){var o=i(4),n=i(9),r=i(84),s=n("species");t.exports=function(t){return r>=51||!o((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,i){t.exports=i(103)},function(t,e,i){t.exports=i(148)},function(t,e,i){t.exports=i(210)},function(t,e,i){t.exports=i(216)},function(t,e,i){"use strict";var o={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!o.call({1:2},1);e.f=r?function(t){var e=n(this,t);return!!e&&e.enumerable}:o},function(t,e,i){var o=i(4),n=i(49),r="".split;t.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?r.call(t,""):Object(t)}:Object},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var o=i(33),n=Math.max,r=Math.min;t.exports=function(t,e){var i=o(t);return i<0?n(i+e,0):r(i,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){var o=i(72),n=i(51).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,n)}},function(t,e,i){"use strict";var o=i(30),n=i(17),r=i(22);t.exports=function(t,e,i){var s=o(e);s in t?n.f(t,s,r(0,i)):t[s]=i}},function(t,e,i){var o,n,r,s=i(116),a=i(5),u=i(12),c=i(13),l=i(8),h=i(36),f=i(34),p=a.WeakMap;if(s){var d=new p,g=d.get,v=d.has,m=d.set;o=function(t,e){return m.call(d,t,e),e},n=function(t){return g.call(d,t)||{}},r=function(t){return v.call(d,t)}}else{var y=h("state");f[y]=!0,o=function(t,e){return c(t,y,e),e},n=function(t){return l(t,y)?t[y]:{}},r=function(t){return l(t,y)}}t.exports={set:o,get:n,has:r,enforce:function(t){return r(t)?n(t):o(t,{})},getterFor:function(t){return function(e){var i;if(!u(e)||(i=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var o=i(37),n=i(77);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var i=0,o=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+o).toString(36)}},function(t,e,i){var o=i(4);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())}))},function(t,e,i){var o={};o[i(9)("toStringTag")]="z",t.exports="[object z]"===String(o)},function(t,e,i){var o=i(58),n=i(49),r=i(9)("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=o?n:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:s?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,i){var o=i(12),n=i(39),r=i(9)("species");t.exports=function(t,e){var i;return n(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!n(i.prototype)?o(i)&&null===(i=i[r])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},function(t,e,i){var o=i(9);e.f=o},function(t,e,i){var o=i(29),n="["+i(42)+"]",r=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),a=function(t){return function(e){var i=String(o(e));return 1&t&&(i=i.replace(r,"")),2&t&&(i=i.replace(s,"")),i}};t.exports={start:a(1),end:a(2),trim:a(3)}},function(t,e,i){t.exports=i(110)},function(t,e,i){t.exports=i(114)},function(t,e,i){t.exports=i(130)},function(t,e,i){t.exports=i(137)},function(t,e,i){i(104);var o=i(2).Object,n=t.exports=function(t,e,i){return o.defineProperty(t,e,i)};o.defineProperty.sham&&(n.sham=!0)},function(t,e,i){var o=i(6),n=i(4),r=i(69);t.exports=!o&&!n((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var o=i(5),n=i(12),r=o.document,s=n(r)&&n(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,i){var o=i(31);t.exports=function(t,e,i){if(o(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,o){return t.call(e,i,o)};case 3:return function(i,o,n){return t.call(e,i,o,n)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){var o=i(6),n=i(17),r=i(19),s=i(32);t.exports=o?Object.defineProperties:function(t,e){r(t);for(var i,o=s(e),a=o.length,u=0;a>u;)n.f(t,i=o[u++],e[i]);return t}},function(t,e,i){var o=i(8),n=i(11),r=i(73).indexOf,s=i(34);t.exports=function(t,e){var i,a=n(t),u=0,c=[];for(i in a)!o(s,i)&&o(a,i)&&c.push(i);for(;e.length>u;)o(a,i=e[u++])&&(~r(c,i)||c.push(i));return c}},function(t,e,i){var o=i(11),n=i(20),r=i(50),s=function(t){return function(e,i,s){var a,u=o(e),c=n(u.length),l=r(s,c);if(t&&i!=i){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===i)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){i(115);var o=i(125),n=i(5),r=i(59),s=i(13),a=i(35),u=i(9)("toStringTag");for(var c in o){var l=n[c],h=l&&l.prototype;h&&r(h)!==u&&s(h,u,c),a[c]=a.Array}},function(t,e){t.exports=function(){}},function(t,e,i){var o=i(5),n=i(118),r=o["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=r},function(t,e,i){"use strict";var o=i(1),n=i(119),r=i(80),s=i(123),a=i(24),u=i(13),c=i(83),l=i(9),h=i(37),f=i(35),p=i(79),d=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=l("iterator"),m=function(){return this};t.exports=function(t,e,i,l,p,y,w){n(i,e,l);var A,S,b,x=function(t){if(t===p&&R)return R;if(!g&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},O=e+" Iterator",P=!1,I=t.prototype,M=I[v]||I["@@iterator"]||p&&I[p],R=!g&&M||x(p),T="Array"==e&&I.entries||M;if(T&&(A=r(T.call(new t)),d!==Object.prototype&&A.next&&(h||r(A)===d||(s?s(A,d):"function"!=typeof A[v]&&u(A,v,m)),a(A,O,!0,!0),h&&(f[O]=m))),"values"==p&&M&&"values"!==M.name&&(P=!0,R=function(){return M.call(this)}),h&&!w||I[v]===R||u(I,v,R),f[e]=R,p)if(S={values:x("values"),keys:y?R:x("keys"),entries:x("entries")},w)for(b in S)(g||P||!(b in I))&&c(I,b,S[b]);else o({target:e,proto:!0,forced:g||P},S);return S}},function(t,e,i){"use strict";var o,n,r,s=i(80),a=i(13),u=i(8),c=i(9),l=i(37),h=c("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(n=s(s(r)))!==Object.prototype&&(o=n):f=!0),null==o&&(o={}),l||u(o,h)||a(o,h,(function(){return this})),t.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:f}},function(t,e,i){var o=i(8),n=i(14),r=i(36),s=i(120),a=r("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=n(t),o(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,i){var o=i(57);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,i){var o,n=i(19),r=i(71),s=i(51),a=i(34),u=i(121),c=i(69),l=i(36),h=l("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=o?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var i=s.length;i--;)delete d.prototype[s[i]];return d()};a[h]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(f.prototype=n(t),i=new f,f.prototype=null,i[h]=t):i=d(),void 0===e?i:r(i,e)}},function(t,e,i){var o=i(13);t.exports=function(t,e,i,n){n&&n.enumerable?t[e]=i:o(t,e,i)}},function(t,e,i){var o,n,r=i(5),s=i(85),a=r.process,u=a&&a.versions,c=u&&u.v8;c?n=(o=c.split("."))[0]+o[1]:s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(n=o[1]),t.exports=n&&+n},function(t,e,i){var o=i(23);t.exports=o("navigator","userAgent")||""},function(t,e,i){"use strict";var o=i(1),n=i(5),r=i(23),s=i(37),a=i(6),u=i(57),c=i(81),l=i(4),h=i(8),f=i(39),p=i(12),d=i(19),g=i(14),v=i(11),m=i(30),y=i(22),w=i(82),A=i(32),S=i(52),b=i(139),x=i(74),O=i(28),P=i(17),I=i(47),M=i(13),R=i(83),T=i(55),k=i(36),D=i(34),L=i(56),E=i(9),C=i(61),z=i(3),H=i(24),B=i(54),N=i(38).forEach,F=k("hidden"),j=E("toPrimitive"),Y=B.set,V=B.getterFor("Symbol"),W=Object.prototype,Z=n.Symbol,U=r("JSON","stringify"),X=O.f,G=P.f,q=b.f,K=I.f,Q=T("symbols"),J=T("op-symbols"),_=T("string-to-symbol-registry"),$=T("symbol-to-string-registry"),tt=T("wks"),et=n.QObject,it=!et||!et.prototype||!et.prototype.findChild,ot=a&&l((function(){return 7!=w(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,i){var o=X(W,e);o&&delete W[e],G(t,e,i),o&&t!==W&&G(W,e,o)}:G,nt=function(t,e){var i=Q[t]=w(Z.prototype);return Y(i,{type:"Symbol",tag:t,description:e}),a||(i.description=e),i},rt=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Z},st=function(t,e,i){t===W&&st(J,e,i),d(t);var o=m(e,!0);return d(i),h(Q,o)?(i.enumerable?(h(t,F)&&t[F][o]&&(t[F][o]=!1),i=w(i,{enumerable:y(0,!1)})):(h(t,F)||G(t,F,y(1,{})),t[F][o]=!0),ot(t,o,i)):G(t,o,i)},at=function(t,e){d(t);var i=v(e),o=A(i).concat(ht(i));return N(o,(function(e){a&&!ut.call(i,e)||st(t,e,i[e])})),t},ut=function(t){var e=m(t,!0),i=K.call(this,e);return!(this===W&&h(Q,e)&&!h(J,e))&&(!(i||!h(this,e)||!h(Q,e)||h(this,F)&&this[F][e])||i)},ct=function(t,e){var i=v(t),o=m(e,!0);if(i!==W||!h(Q,o)||h(J,o)){var n=X(i,o);return!n||!h(Q,o)||h(i,F)&&i[F][o]||(n.enumerable=!0),n}},lt=function(t){var e=q(v(t)),i=[];return N(e,(function(t){h(Q,t)||h(D,t)||i.push(t)})),i},ht=function(t){var e=t===W,i=q(e?J:v(t)),o=[];return N(i,(function(t){!h(Q,t)||e&&!h(W,t)||o.push(Q[t])})),o};(u||(R((Z=function(){if(this instanceof Z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=L(t),i=function(t){this===W&&i.call(J,t),h(this,F)&&h(this[F],e)&&(this[F][e]=!1),ot(this,e,y(1,t))};return a&&it&&ot(W,e,{configurable:!0,set:i}),nt(e,t)}).prototype,"toString",(function(){return V(this).tag})),R(Z,"withoutSetter",(function(t){return nt(L(t),t)})),I.f=ut,P.f=st,O.f=ct,S.f=b.f=lt,x.f=ht,C.f=function(t){return nt(E(t),t)},a&&(G(Z.prototype,"description",{configurable:!0,get:function(){return V(this).description}}),s||R(W,"propertyIsEnumerable",ut,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),N(A(tt),(function(t){z(t)})),o({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(h(_,e))return _[e];var i=Z(e);return _[e]=i,$[i]=e,i},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(h($,t))return $[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),o({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(t,e){return void 0===e?w(t):at(w(t),e)},defineProperty:st,defineProperties:at,getOwnPropertyDescriptor:ct}),o({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),o({target:"Object",stat:!0,forced:l((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(g(t))}}),U)&&o({target:"JSON",stat:!0,forced:!u||l((function(){var t=Z();return"[null]"!=U([t])||"{}"!=U({a:t})||"{}"!=U(Object(t))}))},{stringify:function(t,e,i){for(var o,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(o=e,(p(e)||void 0!==t)&&!rt(t))return f(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!rt(e))return e}),n[1]=e,U.apply(null,n)}});Z.prototype[j]||M(Z.prototype,j,Z.prototype.valueOf),H(Z,"Symbol"),D[F]=!0},function(t,e,i){var o=i(1),n=i(5),r=i(85),s=[].slice,a=function(t){return function(e,i){var o=arguments.length>2,n=o?s.call(arguments,2):void 0;return t(o?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,i)}};o({global:!0,bind:!0,forced:/MSIE .\./.test(r)},{setTimeout:a(n.setTimeout),setInterval:a(n.setInterval)})},function(t,e,i){"use strict";var o=i(1),n=i(4),r=i(39),s=i(12),a=i(14),u=i(20),c=i(53),l=i(60),h=i(41),f=i(9),p=i(84),d=f("isConcatSpreadable"),g=p>=51||!n((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),v=h("concat"),m=function(t){if(!s(t))return!1;var e=t[d];return void 0!==e?!!e:r(t)};o({target:"Array",proto:!0,forced:!g||!v},{concat:function(t){var e,i,o,n,r,s=a(this),h=l(s,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(m(r=-1===e?s:arguments[e])){if(f+(n=u(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<n;i++,f++)i in r&&c(h,f,r[i])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(h,f++,r)}return h.length=f,h}})},function(t,e,i){i(3)("iterator")},function(t,e,i){t.exports=i(107)},function(t,e,i){t.exports=i(133)},function(t,e,i){t.exports=i(140)},function(t,e,i){var o=i(143);t.exports=function(t,e,i){return e in t?o(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){t.exports=i(153)},function(t,e,i){t.exports=i(161)},function(t,e,i){t.exports=i(165)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){var o=i(173),n=i(178);function r(e){return t.exports=r="function"==typeof n&&"symbol"==typeof o?function(t){return typeof t}:function(t){return t&&"function"==typeof n&&t.constructor===n&&t!==n.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e,i){t.exports=i(220)},function(t,e,i){t.exports=i(229)},function(t,e,i){t.exports=i(234)},function(t,e,i){t.exports=i(238)},function(t,e,i){var o=i(67);t.exports=o},function(t,e,i){var o=i(1),n=i(6);o({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperty:i(17).f})},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var o=i(4),n=/#|\.prototype\./,r=function(t,e){var i=a[s(t)];return i==c||i!=u&&("function"==typeof e?o(e):!!e)},s=r.normalize=function(t){return String(t).replace(n,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,i){var o=i(108);t.exports=o},function(t,e,i){i(109);var o=i(2).Object,n=t.exports=function(t,e){return o.defineProperties(t,e)};o.defineProperties.sham&&(n.sham=!0)},function(t,e,i){var o=i(1),n=i(6);o({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperties:i(71)})},function(t,e,i){var o=i(111);t.exports=o},function(t,e,i){i(112);var o=i(2);t.exports=o.Object.getOwnPropertyDescriptors},function(t,e,i){var o=i(1),n=i(6),r=i(113),s=i(11),a=i(28),u=i(53);o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){for(var e,i,o=s(t),n=a.f,c=r(o),l={},h=0;c.length>h;)void 0!==(i=n(o,e=c[h++]))&&u(l,e,i);return l}})},function(t,e,i){var o=i(23),n=i(52),r=i(74),s=i(19);t.exports=o("Reflect","ownKeys")||function(t){var e=n.f(s(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){i(75);var o=i(126),n=i(59),r=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===r||t instanceof Array&&e===r.forEach||s.hasOwnProperty(n(t))?o:e}},function(t,e,i){"use strict";var o=i(11),n=i(76),r=i(35),s=i(54),a=i(78),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:o(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,i=t.kind,o=t.index++;return!e||o>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:o,done:!1}:"values"==i?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}}),"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e,i){var o=i(5),n=i(117),r=o.WeakMap;t.exports="function"==typeof r&&/native code/.test(n(r))},function(t,e,i){var o=i(77),n=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(t){return n.call(t)}),t.exports=o.inspectSource},function(t,e,i){var o=i(5),n=i(13);t.exports=function(t,e){try{n(o,t,e)}catch(i){o[t]=e}return e}},function(t,e,i){"use strict";var o=i(79).IteratorPrototype,n=i(82),r=i(22),s=i(24),a=i(35),u=function(){return this};t.exports=function(t,e,i){var c=e+" Iterator";return t.prototype=n(o,{next:r(1,i)}),s(t,c,!1,!0),a[c]=u,t}},function(t,e,i){var o=i(4);t.exports=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,i){var o=i(23);t.exports=o("document","documentElement")},function(t,e,i){"use strict";var o=i(58),n=i(59);t.exports=o?{}.toString:function(){return"[object "+n(this)+"]"}},function(t,e,i){var o=i(19),n=i(124);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,r){return o(i),n(r),e?t.call(i,r):i.__proto__=r,i}}():void 0)},function(t,e,i){var o=i(12);t.exports=function(t){if(!o(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){var o=i(127);t.exports=o},function(t,e,i){i(128);var o=i(7);t.exports=o("Array").forEach},function(t,e,i){"use strict";var o=i(1),n=i(129);o({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},function(t,e,i){"use strict";var o=i(38).forEach,n=i(40),r=i(21),s=n("forEach"),a=r("forEach");t.exports=s&&a?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,i){var o=i(131);t.exports=o},function(t,e,i){i(132);var o=i(2).Object,n=t.exports=function(t,e){return o.getOwnPropertyDescriptor(t,e)};o.getOwnPropertyDescriptor.sham&&(n.sham=!0)},function(t,e,i){var o=i(1),n=i(4),r=i(11),s=i(28).f,a=i(6),u=n((function(){s(1)}));o({target:"Object",stat:!0,forced:!a||u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(r(t),e)}})},function(t,e,i){var o=i(134);t.exports=o},function(t,e,i){var o=i(135),n=Array.prototype;t.exports=function(t){var e=t.filter;return t===n||t instanceof Array&&e===n.filter?o:e}},function(t,e,i){i(136);var o=i(7);t.exports=o("Array").filter},function(t,e,i){"use strict";var o=i(1),n=i(38).filter,r=i(41),s=i(21),a=r("filter"),u=s("filter");o({target:"Array",proto:!0,forced:!a||!u},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var o=i(138);t.exports=o},function(t,e,i){i(86);var o=i(2);t.exports=o.Object.getOwnPropertySymbols},function(t,e,i){var o=i(11),n=i(52).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?function(t){try{return n(t)}catch(t){return s.slice()}}(t):n(o(t))}},function(t,e,i){var o=i(141);t.exports=o},function(t,e,i){i(142);var o=i(2);t.exports=o.Object.keys},function(t,e,i){var o=i(1),n=i(14),r=i(32);o({target:"Object",stat:!0,forced:i(4)((function(){r(1)}))},{keys:function(t){return r(n(t))}})},function(t,e,i){t.exports=i(144)},function(t,e,i){var o=i(67);t.exports=o},function(t,e,i){var o=i(146);t.exports=o},function(t,e,i){i(147);var o=i(2);o.JSON||(o.JSON={stringify:JSON.stringify}),t.exports=function(t,e,i){return o.JSON.stringify.apply(null,arguments)}},function(t,e,i){var o=i(1),n=i(23),r=i(4),s=n("JSON","stringify"),a=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,l=function(t,e,i){var o=i.charAt(e-1),n=i.charAt(e+1);return u.test(t)&&!c.test(n)||c.test(t)&&!u.test(o)?"\\u"+t.charCodeAt(0).toString(16):t},h=r((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&o({target:"JSON",stat:!0,forced:h},{stringify:function(t,e,i){var o=s.apply(null,arguments);return"string"==typeof o?o.replace(a,l):o}})},function(t,e,i){var o=i(149);t.exports=o},function(t,e,i){var o=i(150),n=Function.prototype;t.exports=function(t){var e=t.bind;return t===n||t instanceof Function&&e===n.bind?o:e}},function(t,e,i){i(151);var o=i(7);t.exports=o("Function").bind},function(t,e,i){i(1)({target:"Function",proto:!0},{bind:i(152)})},function(t,e,i){"use strict";var o=i(31),n=i(12),r=[].slice,s={},a=function(t,e,i){if(!(e in s)){for(var o=[],n=0;n<e;n++)o[n]="a["+n+"]";s[e]=Function("C,a","return new C("+o.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=o(this),i=r.call(arguments,1),s=function(){var o=i.concat(r.call(arguments));return this instanceof s?a(e,o.length,o):e.apply(t,o)};return n(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,i){i(87);var o=i(2);t.exports=o.setInterval},function(t,e,i){var o=i(155);t.exports=o},function(t,e,i){var o=i(156),n=Array.prototype;t.exports=function(t){var e=t.concat;return t===n||t instanceof Array&&e===n.concat?o:e}},function(t,e,i){i(88);var o=i(7);t.exports=o("Array").concat},function(t,e,i){var o=i(158);t.exports=o},function(t,e,i){var o=i(159),n=Array.prototype;t.exports=function(t){var e=t.sort;return t===n||t instanceof Array&&e===n.sort?o:e}},function(t,e,i){i(160);var o=i(7);t.exports=o("Array").sort},function(t,e,i){"use strict";var o=i(1),n=i(31),r=i(14),s=i(4),a=i(40),u=[],c=u.sort,l=s((function(){u.sort(void 0)})),h=s((function(){u.sort(null)})),f=a("sort");o({target:"Array",proto:!0,forced:l||!h||!f},{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),n(t))}})},function(t,e,i){var o=i(162);t.exports=o},function(t,e,i){i(163);var o=i(2);t.exports=o.Object.values},function(t,e,i){var o=i(1),n=i(164).values;o({target:"Object",stat:!0},{values:function(t){return n(t)}})},function(t,e,i){var o=i(6),n=i(32),r=i(11),s=i(47).f,a=function(t){return function(e){for(var i,a=r(e),u=n(a),c=u.length,l=0,h=[];c>l;)i=u[l++],o&&!s.call(a,i)||h.push(t?[i,a[i]]:a[i]);return h}};t.exports={entries:a(!0),values:a(!1)}},function(t,e,i){var o=i(166);t.exports=o},function(t,e,i){i(167);var o=i(2);t.exports=o.parseFloat},function(t,e,i){var o=i(1),n=i(168);o({global:!0,forced:parseFloat!=n},{parseFloat:n})},function(t,e,i){var o=i(5),n=i(62).trim,r=i(42),s=o.parseFloat,a=1/s(r+"-0")!=-1/0;t.exports=a?function(t){var e=n(String(t)),i=s(e);return 0===i&&"-"==e.charAt(0)?-0:i}:s},function(t,e,i){var o=i(170);t.exports=o},function(t,e,i){i(171);var o=i(2);t.exports=o.parseInt},function(t,e,i){var o=i(1),n=i(172);o({global:!0,forced:parseInt!=n},{parseInt:n})},function(t,e,i){var o=i(5),n=i(62).trim,r=i(42),s=o.parseInt,a=/^[+-]?0[Xx]/,u=8!==s(r+"08")||22!==s(r+"0x16");t.exports=u?function(t,e){var i=n(String(t));return s(i,e>>>0||(a.test(i)?16:10))}:s},function(t,e,i){t.exports=i(174)},function(t,e,i){var o=i(175);t.exports=o},function(t,e,i){i(89),i(176),i(75);var o=i(61);t.exports=o.f("iterator")},function(t,e,i){"use strict";var o=i(177).charAt,n=i(54),r=i(78),s=n.set,a=n.getterFor("String Iterator");r(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=o(i,n),e.index+=t.length,{value:t,done:!1})}))},function(t,e,i){var o=i(33),n=i(29),r=function(t){return function(e,i){var r,s,a=String(n(e)),u=o(i),c=a.length;return u<0||u>=c?t?"":void 0:(r=a.charCodeAt(u))<55296||r>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):r:t?a.slice(u,u+2):s-56320+(r-55296<<10)+65536}};t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,i){t.exports=i(179)},function(t,e,i){var o=i(180);i(197),i(198),i(199),i(200),i(201),t.exports=o},function(t,e,i){i(88),i(181),i(86),i(182),i(183),i(184),i(185),i(89),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196);var o=i(2);t.exports=o.Symbol},function(t,e){},function(t,e,i){i(3)("asyncIterator")},function(t,e){},function(t,e,i){i(3)("hasInstance")},function(t,e,i){i(3)("isConcatSpreadable")},function(t,e,i){i(3)("match")},function(t,e,i){i(3)("matchAll")},function(t,e,i){i(3)("replace")},function(t,e,i){i(3)("search")},function(t,e,i){i(3)("species")},function(t,e,i){i(3)("split")},function(t,e,i){i(3)("toPrimitive")},function(t,e,i){i(3)("toStringTag")},function(t,e,i){i(3)("unscopables")},function(t,e,i){i(24)(Math,"Math",!0)},function(t,e,i){var o=i(5);i(24)(o.JSON,"JSON",!0)},function(t,e,i){i(3)("asyncDispose")},function(t,e,i){i(3)("dispose")},function(t,e,i){i(3)("observable")},function(t,e,i){i(3)("patternMatch")},function(t,e,i){i(3)("replaceAll")},function(t,e,i){var o=i(203);t.exports=o},function(t,e,i){var o=i(204),n=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===n||t instanceof Array&&e===n.indexOf?o:e}},function(t,e,i){i(205);var o=i(7);t.exports=o("Array").indexOf},function(t,e,i){"use strict";var o=i(1),n=i(73).indexOf,r=i(40),s=i(21),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,c=r("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(t){return u?a.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var o=i(207);t.exports=o},function(t,e,i){var o=i(208),n=Array.prototype;t.exports=function(t){var e=t.splice;return t===n||t instanceof Array&&e===n.splice?o:e}},function(t,e,i){i(209);var o=i(7);t.exports=o("Array").splice},function(t,e,i){"use strict";var o=i(1),n=i(50),r=i(33),s=i(20),a=i(14),u=i(60),c=i(53),l=i(41),h=i(21),f=l("splice"),p=h("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,g=Math.min;o({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var i,o,l,h,f,p,v=a(this),m=s(v.length),y=n(t,m),w=arguments.length;if(0===w?i=o=0:1===w?(i=0,o=m-y):(i=w-2,o=g(d(r(e),0),m-y)),m+i-o>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(v,o),h=0;h<o;h++)(f=y+h)in v&&c(l,h,v[f]);if(l.length=o,i<o){for(h=y;h<m-o;h++)p=h+i,(f=h+o)in v?v[p]=v[f]:delete v[p];for(h=m;h>m-o+i;h--)delete v[h-1]}else if(i>o)for(h=m-o;h>y;h--)p=h+i-1,(f=h+o-1)in v?v[p]=v[f]:delete v[p];for(h=0;h<i;h++)v[h+y]=arguments[h+2];return v.length=m-o+i,l}})},function(t,e,i){var o=i(211);t.exports=o},function(t,e,i){var o=i(212),n=Array.prototype;t.exports=function(t){var e=t.reduce;return t===n||t instanceof Array&&e===n.reduce?o:e}},function(t,e,i){i(213);var o=i(7);t.exports=o("Array").reduce},function(t,e,i){"use strict";var o=i(1),n=i(214).left,r=i(40),s=i(21),a=r("reduce"),u=s("reduce",{1:0});o({target:"Array",proto:!0,forced:!a||!u},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var o=i(31),n=i(14),r=i(48),s=i(20),a=function(t){return function(e,i,a,u){o(i);var c=n(e),l=r(c),h=s(c.length),f=t?h-1:0,p=t?-1:1;if(a<2)for(;;){if(f in l){u=l[f],f+=p;break}if(f+=p,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=p)f in l&&(u=i(u,l[f],f,c));return u}};t.exports={left:a(!1),right:a(!0)}},function(t,e,i){i(87);var o=i(2);t.exports=o.setTimeout},function(t,e,i){var o=i(217);t.exports=o},function(t,e,i){var o=i(218),n=Array.prototype;t.exports=function(t){var e=t.map;return t===n||t instanceof Array&&e===n.map?o:e}},function(t,e,i){i(219);var o=i(7);t.exports=o("Array").map},function(t,e,i){"use strict";var o=i(1),n=i(38).map,r=i(41),s=i(21),a=r("map"),u=s("map");o({target:"Array",proto:!0,forced:!a||!u},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var o=i(221);t.exports=o},function(t,e,i){i(222);var o=i(2);t.exports=o.Date.now},function(t,e,i){i(1)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e){t.exports="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"},function(t,e,i){var o=i(225);t.exports=o},function(t,e,i){var o=i(226),n=Array.prototype;t.exports=function(t){var e=t.fill;return t===n||t instanceof Array&&e===n.fill?o:e}},function(t,e,i){i(227);var o=i(7);t.exports=o("Array").fill},function(t,e,i){var o=i(1),n=i(228),r=i(76);o({target:"Array",proto:!0},{fill:n}),r("fill")},function(t,e,i){"use strict";var o=i(14),n=i(50),r=i(20);t.exports=function(t){for(var e=o(this),i=r(e.length),s=arguments.length,a=n(s>1?arguments[1]:void 0,i),u=s>2?arguments[2]:void 0,c=void 0===u?i:n(u,i);c>a;)e[a++]=t;return e}},function(t,e,i){var o=i(230);t.exports=o},function(t,e,i){var o=i(231),n=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===n||t instanceof String&&e===n.trim?o:e}},function(t,e,i){i(232);var o=i(7);t.exports=o("String").trim},function(t,e,i){"use strict";var o=i(1),n=i(62).trim;o({target:"String",proto:!0,forced:i(233)("trim")},{trim:function(){return n(this)}})},function(t,e,i){var o=i(4),n=i(42);t.exports=function(t){return o((function(){return!!n[t]()||"​᠎"!="​᠎"[t]()||n[t].name!==t}))}},function(t,e,i){var o=i(235);t.exports=o},function(t,e,i){var o=i(236),n=Array.prototype;t.exports=function(t){var e=t.reverse;return t===n||t instanceof Array&&e===n.reverse?o:e}},function(t,e,i){i(237);var o=i(7);t.exports=o("Array").reverse},function(t,e,i){"use strict";var o=i(1),n=i(39),r=[].reverse,s=[1,2];o({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),r.call(this)}})},function(t,e,i){var o=i(239);t.exports=o},function(t,e,i){i(240);var o=i(2);t.exports=o.Math.sign},function(t,e,i){i(1)({target:"Math",stat:!0},{sign:i(241)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){"use strict";i.r(e),i.d(e,"Histropedia",(function(){return Ee}));var o={};i.r(o),i.d(o,"MINOR_MARKER",(function(){return D})),i.d(o,"MAJOR_MARKER",(function(){return L})),i.d(o,"ERA_MARKER",(function(){return E})),i.d(o,"ZOOM_DAY",(function(){return C})),i.d(o,"ZOOM_MONTH",(function(){return z})),i.d(o,"ZOOM_YEAR",(function(){return H})),i.d(o,"ZOOM_DECADE",(function(){return B})),i.d(o,"ZOOM_CENTURY",(function(){return N})),i.d(o,"ZOOM_MILLENNIUM",(function(){return F})),i.d(o,"ZOOM_10_THOUSAND_YEARS",(function(){return j})),i.d(o,"ZOOM_100_THOUSAND_YEARS",(function(){return Y})),i.d(o,"ZOOM_MILLION_YEARS",(function(){return V})),i.d(o,"ZOOM_10_MILLION_YEARS",(function(){return W})),i.d(o,"ZOOM_100_MILLION_YEARS",(function(){return Z})),i.d(o,"ZOOM_BILLION_YEARS",(function(){return U})),i.d(o,"PRECISION_DAY",(function(){return X})),i.d(o,"PRECISION_MONTH",(function(){return G})),i.d(o,"PRECISION_YEAR",(function(){return q})),i.d(o,"PRECISION_DECADE",(function(){return K})),i.d(o,"PRECISION_CENTURY",(function(){return Q})),i.d(o,"PRECISION_MILLENNIUM",(function(){return J})),i.d(o,"PRECISION_MILLION_YEARS",(function(){return _})),i.d(o,"PRECISION_BILLION_YEARS",(function(){return tt})),i.d(o,"YEAR_PREFIXES",(function(){return et})),i.d(o,"DENSITY_LOW",(function(){return it})),i.d(o,"DENSITY_MEDIUM",(function(){return ot})),i.d(o,"DENSITY_HIGH",(function(){return nt})),i.d(o,"DENSITY_ALL",(function(){return rt})),i.d(o,"RANGE_ALL",(function(){return st})),i.d(o,"RANGE_SCREEN",(function(){return at})),i.d(o,"DENSITY_SETTINGS",(function(){return ut}));var n={};i.r(n),i.d(n,"ARTICLE_DURATION_SORTER",(function(){return Gt})),i.d(n,"ARTICLE_DURATION_YEARS_SORTER",(function(){return qt})),i.d(n,"ARTICLE_IMAGE_QUEUE_SORTER",(function(){return Kt})),i.d(n,"ARTICLE_FROM_SORTER",(function(){return Qt})),i.d(n,"ARTICLE_TO_SORTER",(function(){return Jt})),i.d(n,"ARTICLE_TOP_SORTER",(function(){return _t})),i.d(n,"ARTICLE_ROW_SORTER",(function(){return $t})),i.d(n,"ARTICLE_RANK_SORTER",(function(){return te})),i.d(n,"ARTICLE_EFFECTIVE_RANK_SORTER",(function(){return ee})),i.d(n,"ARTICLE_POSITION_SORTER",(function(){return ie}));var r=i(43),s=i.n(r),a=i(90),u=i.n(a),c=i(63),l=i.n(c),h=i(64),f=i.n(h),p=i(65),d=i.n(p),g=i(91),v=i.n(g),m=i(66),y=i.n(m),w=i(92),A=i.n(w),S=i(93),b=i.n(S),x=i(18),O=i.n(x),P=i(44),I=i.n(P),M=i(94),R=i.n(M),T=i(16),k=i.n(T),D=0,L=1,E=2,C=0,z=1,H=2,B=3,N=4,F=5,j=6,Y=7,V=8,W=9,Z=10,U=11,X=11,G=10,q=9,K=8,Q=7,J=6,_=3,tt=1,et={3:{label:" ka",value:1e3},6:{label:" Ma",value:1e6},9:{label:" Ga",value:1e9}},it=1,ot=2,nt=3,rt=0,st=0,at=1,ut=[{region:1,zoom:{from:0,to:3.11},low:1,medium:2,high:3,all:25,step:{months:0,days:1}},{region:2,zoom:{from:3.11,to:6.22},low:1,medium:2,high:3,all:25,step:{months:0,days:2}},{region:3,zoom:{from:6.22,to:9.33},low:1,medium:2,high:3,all:25,step:{months:0,days:4}},{region:4,zoom:{from:9.33,to:12.44},low:1,medium:2,high:3,all:25,step:{months:0,days:8}},{region:5,zoom:{from:12.44,to:15.549999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:16}},{region:6,zoom:{from:15.549999999999999,to:18.66},low:1,medium:2,high:3,all:25,step:{months:0,days:32}},{region:7,zoom:{from:18.66,to:21.77},low:1,medium:2,high:3,all:25,step:{months:0,days:64}},{region:8,zoom:{from:21.77,to:24.88},low:1,medium:2,high:3,all:25,step:{months:0,days:128}},{region:9,zoom:{from:24.88,to:27.99},low:1,medium:2,high:3,all:25,step:{months:0,days:256}},{region:10,zoom:{from:27.99,to:31.099999999999998},low:1,medium:2,high:3,all:25,step:{months:0,days:512}},{region:11,zoom:{from:31.099999999999998,to:34.21},low:1,medium:2,high:3,all:25,step:{months:0,days:1024}},{region:12,zoom:{from:34.21,to:37.32},low:1,medium:2,high:3,all:25,step:{months:0,days:2048}},{region:13,zoom:{from:37.32,to:40.43},low:1,medium:2,high:3,all:25,step:{months:0,days:4096}},{region:14,zoom:{from:40.43,to:43.54},low:1,medium:2,high:3,all:25,step:{months:0,days:8192}},{region:15,zoom:{from:43.54,to:46.65},low:1,medium:2,high:3,all:25,step:{months:0,days:16384}},{region:16,zoom:{from:46.65,to:49.76},low:1,medium:2,high:3,all:25,step:{months:0,days:32768}},{region:17,zoom:{from:49.76,to:52.87},low:1,medium:2,high:3,all:25,step:{months:0,days:65536}},{region:18,zoom:{from:52.87,to:55.98},low:1,medium:2,high:3,all:25,step:{months:0,days:131072}},{region:19,zoom:{from:55.98,to:59.089999999999996},low:1,medium:2,high:3,all:25,step:{months:0,days:262144}},{region:20,zoom:{from:59.089999999999996,to:62.199999999999996},low:1,medium:2,high:3,all:25,step:{months:0,days:524288}},{region:21,zoom:{from:62.199999999999996,to:65.31},low:1,medium:2,high:3,all:25,step:{months:0,days:1048576}},{region:22,zoom:{from:65.31,to:68.42},low:1,medium:2,high:3,all:25,step:{months:0,days:2097152}},{region:23,zoom:{from:68.42,to:71.53},low:1,medium:2,high:3,all:25,step:{months:0,days:4194304}},{region:24,zoom:{from:71.53,to:74.64},low:1,medium:2,high:3,all:25,step:{months:0,days:8388608}},{region:25,zoom:{from:74.64,to:77.75},low:1,medium:2,high:3,all:25,step:{months:0,days:16777216}},{region:26,zoom:{from:77.75,to:80.86},low:1,medium:2,high:3,all:25,step:{months:0,days:33554432}},{region:27,zoom:{from:80.86,to:83.97},low:1,medium:2,high:3,all:25,step:{months:0,days:67108864}},{region:28,zoom:{from:83.97,to:87.08},low:1,medium:2,high:3,all:25,step:{months:0,days:134217728}},{region:29,zoom:{from:87.08,to:90.19},low:1,medium:2,high:3,all:25,step:{months:0,days:268435456}},{region:30,zoom:{from:90.19,to:93.3},low:1,medium:2,high:3,all:25,step:{months:0,days:536870912}},{region:31,zoom:{from:93.3,to:96.41},low:1,medium:2,high:3,all:25,step:{months:0,days:1073741824}},{region:32,zoom:{from:96.41,to:99.52},low:1,medium:2,high:3,all:25,step:{months:0,days:2147483648}},{region:33,zoom:{from:99.52,to:102.63},low:1,medium:2,high:3,all:25,step:{months:0,days:4294967296}},{region:34,zoom:{from:102.63,to:105.74},low:1,medium:2,high:3,all:25,step:{months:0,days:8589934592}},{region:35,zoom:{from:105.74,to:108.85},low:1,medium:2,high:3,all:25,step:{months:0,days:17179869184}},{region:36,zoom:{from:108.85,to:111.96},low:1,medium:2,high:3,all:25,step:{months:0,days:34359738368}},{region:37,zoom:{from:111.96,to:115.07},low:1,medium:2,high:3,all:25,step:{months:0,days:68719476736}},{region:38,zoom:{from:115.07,to:118.17999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:137438953472}},{region:39,zoom:{from:118.17999999999999,to:121.28999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:274877906944}},{region:40,zoom:{from:121.28999999999999,to:124.39999999999999},low:1,medium:2,high:3,all:25,step:{months:0,days:549755813888}}],ct=i(15),lt=i.n(ct),ht=i(95),ft=i.n(ht),pt=i(96),dt=i.n(pt),gt=i(97),vt=i.n(gt),mt=i(0),yt=i.n(mt),wt=i(98),At=i.n(wt),St=[31,28,31,30,31,30,31,31,30,31,30,31],bt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xt(t,e,i){if("object"===At()(t)){var o=t;this.year=o.year,this.month=o.month,this.day=Ot(o.year,o.month,o.day)}else this.year=t,this.month=e,this.day=Ot(t,e,i)}function Ot(t,e,i){return i>28?Math.min(i,Pt(t,e)):i}function Pt(t,e){return 2==e&&(t%4==0&&t%100!=0||t%400==0)?29:St[e-1]}function It(t,e){return e="string"==typeof e?e:",",(t=t.toString()).length<=4?t:t.replace(/\B(?=(\d{3})+(?!\d))/g,e)}xt.prototype.getDaysTo=function(t){return t.getDaysSinceYearZero()-this.getDaysSinceYearZero()},xt.prototype.getMonthsTo=function(t){return 12*this.getYearsTo(t)},xt.prototype.getYearsTo=function(t){var e=t.year-this.year;return e+=(t.month-this.month)/12+(t.day-this.day)/365.2422},xt.prototype.getLeapYearsSinceYearZero=function(){var t=this.year;return this.month<3&&t--,Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400)},xt.prototype.getDaysSinceYearZero=function(){for(var t=365*this.year+this.day,e=0;e<this.month-1;e++)t+=St[e];return t+=this.getLeapYearsSinceYearZero()},xt.prototype.getDayOfYear=function(){if(isUndefined(this._dayOfYear)){this._dayOfYear=0;for(var t=1;t<this.month;t++)this._dayOfYear+=Pt(this.year,t);this._dayOfYear+=this.day}return this._dayOfYear},xt.getByDayOfYear=function(t,e){for(var i=new xt(t,1,1),o=St[0],n=0;n<e-1;n++)i.day++,i.day>o&&(i.day=1,i.month++,i.month>12&&(i.month=1,i.year++),o=2==i.month?Pt(i.year,i.month):St[i.month-1]);return i},xt.prototype.getNextDay=function(){return this.addDays(1)},xt.prototype.addDays=function(t){for(var e=this.day,i=this.month,o=this.year,n=0;n<t;n++)++e>Pt(o,i)&&(e=1,++i>12&&(i=1,o++));return new xt(o,i,e)},xt.prototype.addMonths=function(t){for(var e=this.month,i=this.year,o=0;o<t;o++)++e>12&&(e=1,i++);return new xt(i,e,1)},xt.prototype.getPreviousDay=function(){var t=this.day,e=this.month,i=this.year;return--t<1&&(--e<1&&(e=12,i--),t=Pt(i,e)),new xt(i,e,t)},xt.prototype.getNextMonth=function(){var t=this.month,e=this.year;return++t>12&&(t=1,e++),new xt(e,t,1)},xt.prototype.getPreviousMonth=function(){var t=this.month,e=this.year;return--t<1&&(t=12,e--),new xt(e,t,1)},xt.prototype.addYears=function(t){return new xt(this.year+t,1,1)},xt.prototype.format=function(t,e){t=t||"D MMM YYYY";var i=(e=e||{}).yearPrefix,o="string"==typeof e.bceText?e.bceText:" ʙᴄᴇ",n=this.year<=0,r=0===this.year,s=e.thousandsSeparator;if(i&&!r){var a=i.value||1,u=i.label||"";return n?It((1-this.year)/a,s)+u+o:It(this.year/a,s)+u}return t.replace("YYYY",n?It(1-this.year,s)+o:It(this.year,s)).replace("D",this.day).replace("MMM",bt[this.month-1])},xt.prototype.isSame=function(t){return t.year==this.year&&t.month==this.month&&t.day==this.day},xt.prototype.toKeyString=function(){return this.year+"|"+this.month+"|"+this.day},xt.prototype.isAfter=function(t){if(this.year>t.year)return!0;if(this.year==t.year){if(this.month>t.month)return!0;if(this.month==t.month)return this.day>t.day}return!1},xt.prototype.isBetween=function(t,e){return this.isAfter(t)&&e.isAfter(this)},xt.prototype.compare=function(t){return this.isSame(t)?0:this.isAfter(t)?1:-1},xt.prototype.asFloat=function(){var t=this.month-1,e=this.day-1;return 0==t&&0==e?this.year:Math.round(100*(this.year+(31*t+e)/371))/100},xt.prototype.isInFuture=function(){var t=new Date,e=new xt(t.getFullYear(),t.getMonth()+1,t.getDate());return this.isAfter(e)},xt.prototype.convertToIso=function(){return this.year<0&&(this.year+=1),this},xt.CreateAsStartOfPeriod=function(t,e){var i=t.year,o=t.month||1,n=t.day||1;return(e=e||X)===Q?new xt(i<0?i:i-99,1,1):e===J?new xt(i<0?i:i-999,1,1):new xt(i,o,n)},xt.CreateAsEndOfPeriod=function(t,e){var i=t.year,o=t.month||1,n=t.day||1;if((e=e||X)===X)return new xt(i,o,n);if(e===G)return new xt(i,o,Pt(i,o));if(e===q)return new xt(i,12,31);if(e===K)return new xt(i+9,12,31);var r=i<=0;return e===Q?new xt(r?i+99:i,12,31):e==J?new xt(r?i+999:i,12,31):e==_?new xt(i+999999,12,31):e==tt?new xt(i+999999999,12,31):(console.error("precision is not implemented"),new xt(i,o,n))},xt.now=function(){var t=new Date;return new xt({year:t.getYear()+1900,month:t.getMonth()+1,day:t.getDate()})},xt.fromString=function(t){var e=t.split("-");""===e[0]&&(e.shift(),e[0]="-"+e[0]);var i=yt()(e[0]),o=yt()(e[1])||1,n=yt()(e[2])||1;return new xt({year:yt()(i),month:yt()(o),day:yt()(n)})};var Mt=function t(e,i){vt()(this,t),this.owner=e,this.zoomOptions=i,this.zoom=0,this.startToken=null,this.unit=C,this.unitSizeInPixels=100,this.unitLengthInYears=1,this.zoomChangedHandlers=[],this.yearPrefix={minor:!1,major:!1},this.unitLevels=[]};Mt.prototype.getUnitSizeInPixelsForZoom=function(t){var e=this.zoomOptions.ratio,i=this.unitLevels[this.unit],o=i.zoomStart;return i.startUnitSize*Math.pow(e,t-o)},Mt.prototype.getChangePoint=function(t){this.unitLevels;return this.unitLevels[this.unit].zoomStart},Mt.prototype.getUnitFromZoom=function(t){for(var e=this.unitLevels,i=e.length-1;i<e.length;i--)if(t>=e[i].zoomStart)return i},Mt.prototype.getDateLabelFormatOptions=function(t){t=t===L?"major":"minor";var e=this.owner.options.style.dateLabel[t];return{thousandsSeparator:e.thousandsSeparator,bceText:e.bceText,yearPrefix:this.yearPrefix[t]}},Mt.prototype.createYearToken=function(t){var e={unit:this.unit,value:t,length:this.unitSizeInPixels},i=t.year,o=0==i;i<=0&&(i=1-i);var n=this.unitLengthInYears,r=this.unitLevels[this.unit];return i%(10*n)==0||o?(e.label=t.format("YYYY",this.getDateLabelFormatOptions(L)),e.type=L):(e.type=D,this.zoom<r.zoomHideMinorLabels&&(e.label=t.format("YYYY",this.getDateLabelFormatOptions(D)))),e},Mt.prototype.createMonthToken=function(t){var e={unit:this.unit,value:t,length:this.unitSizeInPixels},i=this.unitLevels[z];return 1==t.month?(e.label=t.format("YYYY",this.getDateLabelFormatOptions(L)),e.type=L):(e.type=D,this.zoom<i.zoomHideMinorLabels&&(e.label=t.format("MMM"))),e},Mt.prototype.createDayToken=function(t){var e={unit:this.unit,value:t,length:this.unitSizeInPixels},i=this.unitLevels[C];return 1==t.day?(e.label=t.format("MMM YYYY",this.getDateLabelFormatOptions(L)),e.type=L):(e.type=D,this.zoom<i.zoomHideMinorLabels&&(e.label=t.format("D"))),e},Mt.prototype.addZoomChangedHandler=function(t,e){this.zoomChangedHandlers.push({callback:t,context:e||this})},Mt.prototype.notifyZoomChanged=function(){for(var t=0;t<this.zoomChangedHandlers.length;t++)this.zoomChangedHandlers[t].callback.call(this.zoomChangedHandlers[t].context)},Mt.prototype.setZoom=function(t){this.zoom=dt()(t.toFixed(4)),this.zoom<this.zoomOptions.minimum&&(this.zoom=this.zoomOptions.minimum),this.zoom>this.zoomOptions.maximum&&(this.zoom=this.zoomOptions.maximum),this.unit=this.getUnitFromZoom(this.zoom),this.unitSizeInPixels=this.getUnitSizeInPixelsForZoom(this.zoom);var e=0;if(this.unit>=H){var i=this.unit-H;e=Math.pow(10,i)}return this.unitLengthInYears=e,this.setCurrentYearPrefixes(),this.notifyZoomChanged(),this.zoom},Mt.prototype.getPixelsBetween=function(t,e){var i=this.unit;return i<=C?t.getDaysTo(e)*this.unitSizeInPixels:i===z?t.getMonthsTo(e)*this.unitSizeInPixels:t.getYearsTo(e)*this.unitSizeInPixels/this.unitLengthInYears},Mt.prototype.setStartToken=function(t){return this.startToken=t},Mt.prototype.setStartDate=function(t){var e=0;switch(t.year<0&&(e=1),this.unit){case C:return this.startToken=this.createDayToken(t),0;case z:return this.startToken=this.createMonthToken(new xt(t.year,t.month,1)),this.unitSizeInPixels/30.44*(this.startToken.value.day-t.day);case H:return this.startToken=this.createYearToken(new xt(t.year,1,1)),this.unitSizeInPixels/365.2422*(30.44*(this.startToken.value.month-t.month)+(this.startToken.value.day-t.day));default:var i=this.unitLengthInYears;return this.startToken=this.createYearToken(new xt(Math.floor(t.year/i)*i+e,1,1)),this.unitSizeInPixels/(365.2422*i)*(365.2422*(this.startToken.value.year-t.year)+30.44*(this.startToken.value.month-t.month)+(this.startToken.value.day-t.day))}},Mt.prototype.getStartTokenCloned=function(){switch(this.startToken.unit){case C:return this.createDayToken(this.startToken.value);case z:return this.createMonthToken(this.startToken.value);default:return this.createYearToken(this.startToken.value)}},Mt.prototype.getNext=function(t){switch(t.unit){case C:return this.createDayToken(t.value.getNextDay());case z:return this.createMonthToken(t.value.getNextMonth());case H:return this.createYearToken(t.value.addYears(1));default:var e=this.unitLengthInYears;return this.createYearToken(t.value.addYears(t.value.year==-(e-1)?e-1:e))}throw"Unknown unit:"+t.unit},Mt.prototype.getPrevious=function(t){switch(t.unit){case C:return this.createDayToken(t.value.getPreviousDay());case z:return this.createMonthToken(t.value.getPreviousMonth());case H:return this.createYearToken(t.value.addYears(-1));default:var e=this.unitLengthInYears;return this.createYearToken(t.value.addYears(0==t.value.year?1-e:-e))}},Mt.prototype.getPreviousNth=function(t,e){for(var i=0;i<e;i++)t=this.getPrevious(t);return t},Mt.prototype.zoomUnitToString=function(t){switch(t){case C:return"day";case z:return"month";case H:return"year";case B:return"decade";case N:return"century";case F:return"millennium";case j:return"10 thousand years";case Y:return"100 thousand years";case V:return"million years";case W:return"10 million years";case Z:return"100 million years";case U:return"billion years";default:return"unknown"}},Mt.prototype.setUnitLevels=function(){this.unitLevels=[];this.zoomOptions.ratio;var t=this.zoomOptions.unitSize.minimum,e=this.zoomOptions.unitSize.showMinorLabels,i=this.getZoomChangeByDistance(e,t),o=this.zoomOptions.unitSize.initial,n=0+this.getZoomChangeByDistance(o,t),r={startUnitSize:o,zoomStart:0,zoomHideMinorLabels:n-i,zoomEnd:n};this.unitLevels.push(r);var s=31*t,a=n+this.getZoomChangeByDistance(s,t),u=a-i;this.unitLevels.push({startUnitSize:s,zoomStart:n,zoomHideMinorLabels:u,zoomEnd:a});var c,l=12*t,h=a+this.getZoomChangeByDistance(l,t),f=h-i;this.unitLevels.push({startUnitSize:l,zoomStart:a,zoomHideMinorLabels:f,zoomEnd:h});for(var p,d,g=h,v=1;v<=8;v++)c=10*t,d=(p=g+this.getZoomChangeByDistance(c,t))-i,this.unitLevels.push({startUnitSize:c,zoomStart:g,zoomHideMinorLabels:d,zoomEnd:p}),g=p,8===v&&(this.zoomOptions.maximum=Math.min(this.zoomOptions.maximum,p))},Mt.prototype.getZoomChangeByDistance=function(t,e){var i=this.zoomOptions.ratio;return Math.log(e/t)/Math.log(i)},Mt.prototype.scaleDistanceByZoomChange=function(t,e){var i=this.zoomOptions.ratio;return t*Math.pow(i,e)},Mt.prototype.setCurrentYearPrefixes=function(){var t=["minor","major"];if(this.unit<H)for(var e=0;e<t.length;e++)this.yearPrefix[t[e]]=!1;else{var i=this.owner.options.style.dateLabel,o={minor:this.unitLengthInYears,major:10*this.unitLengthInYears};for(e=0;e<t.length;e++){var n=t[e],r=ft()(i[n].yearPrefixes);this.yearPrefix[n]=!1,lt()(r).call(r,(function(t,e){return e.minDivision-t.minDivision}));for(var s=0;s<r.length;s++){var a=r[s];if(a.minDivision<=o[n]){this.yearPrefix[n]={label:a.label,value:a.value};break}}}}};var Rt=i(10),Tt=i.n(Rt),kt=i(25),Dt=i.n(kt),Lt=i(45),Et=i.n(Lt),Ct=i(26),zt=i.n(Ct);function Ht(t){var e=t.originalEvent.touches;return{x:(e[0].pageX+e[1].pageX)/2,y:(e[0].pageY+e[1].pageY)/2}}function Bt(t){var e=t.originalEvent.touches,i=e[0].pageX,o=e[0].pageY,n=e[1].pageX,r=e[1].pageY;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}var Nt;Nt=0;function Ft(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e)return i;return-1}function jt(t){return{left:t.pageX?t.pageX:t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,top:t.pageY?t.pageY:t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageY:t.pageY}}function Yt(t){return void 0===t}function Vt(t,e,i){return t<e?e:t>i?i:t}function Wt(t,e){if(0==t.length)return-1;for(var i=0,o=t[0][e],n=1;n<t.length;n++)t[n][e]<o&&(o=t[n][e],i=n);return i}function Zt(t,e){var i=t.split("."),o={};o[i[i.length-1]]=e;for(var n=i.length-2;n>=0;n--){var r=i[n],s=$.extend(!0,{},o);(o={})[r]=s}return o}function Ut(t,e){var i="_"+e;t[i]=void 0,s()(t,e,{get:function(){var t=this[i];return function(t){return"function"==typeof t}(t)?t(this):t},set:function(t){this[i]=t},enumerable:!0,configurable:!1})}function Xt(t,e){for(var i,o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];return"function"==typeof t?t.call.apply(t,k()(i=[e]).call(i,n)):t}function Gt(t,e){var i=t.period.from.getDaysTo(t.period.to),o=e.period.from.getDaysTo(e.period.to);return i<o?1:i>o?-1:yt()(t.id)-yt()(e.id)}function qt(t,e){var i=t.period.years,o=e.period.years;return i<o?1:i>o?-1:yt()(t.id)-yt()(e.id)}function Kt(t,e){var i=t.isInView&&t.isVisible,o=e.isInView&&e.isVisible;return!i&&o?-1:i&&!o?1:t.position.top-e.position.top}function Qt(t,e){var i=t.period.from,o=e.period.from,n=i.compare(o);return 0==n&&(n=yt()(e.id)-yt()(t.id)),n}function Jt(t,e){var i=t.period.to,o=e.period.to.compare(i);return 0==o&&(o=yt()(e.id)-yt()(t.id)),o}function _t(t,e){var i=t.position.top,o=e.position.top;return i<o?-1:i>o?1:yt()(e.id)-yt()(t.id)}function $t(t,e){var i=t.row,o=e.row;return i<o?1:i>o?-1:yt()(e.id)-yt()(t.id)}function te(t,e){var i=t.rank,o=e.rank;return i<o?1:i>o?-1:yt()(e.id)-yt()(t.id)}function ee(t,e){var i=t.effectiveRank,o=e.effectiveRank;return i<o?1:i>o?-1:yt()(e.id)-yt()(t.id)}function ie(t,e){var i=t.position.left,o=e.position.left,n=i<o?1:i>o?-1:0;return 0==n&&0==(n=t.position.top-e.position.top)&&0==(n=t.period.from.compare(e.period.from))&&(n=yt()(t.id)-yt()(e.id)),n}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.hashCode=function(){var t;return Et()(t=this.split("")).call(t,(function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0)},String.prototype.endsWith=function(t){var e;return-1!==Tt()(e=this).call(e,t,this.length-t.length)};var oe={width:1e3,height:500,verticalOffset:40,enableUserControl:!0,enableCursor:!0,zoom:{initial:34,minimum:0,maximum:123,wheelStep:.1,wheelSpeed:3,ratio:.8,unitSize:{initial:200,showMinorLabels:48,minimum:8}},initialDate:{year:1990,month:1,day:1},shiftBceDates:!1,draggingVicinity:!0,style:{mainLine:{visible:!0,size:8},draggingHighlight:{visible:!0,color:"rgba(237, 247, 255, 0.5)",area:{up:0,down:40}},marker:{minor:{height:12,color:"#6097f2",futureColor:"#ccc"},major:{height:30,color:"#0c3a88",futureColor:"#ccc"}},dateLabel:{minor:{font:"normal 10px Calibri",color:"#333",futureColor:"#ccc",textAlign:"start",offset:{x:4,y:0},bceText:"",thousandsSeparator:",",yearPrefixes:{ka:{label:"ka",value:1e3,minDivision:1e3},Ma:{label:"Ma",value:1e6,minDivision:1e5},Ga:{label:"Ga",value:1e9,minDivision:1e8}}},major:{font:"normal 16px Calibri",color:"#000",futureColor:"#ccc",textAlign:"start",offset:{x:4,y:0},bceText:" ʙᴄᴇ",thousandsSeparator:",",yearPrefixes:{ka:{label:"ka",value:1e3,minDivision:1e5},Ma:{label:"Ma",value:1e6,minDivision:1e6},Ga:{label:"Ga",value:1e9,minDivision:1e9}}}}},article:{density:rt,draggable:!0,distanceToMainLine:350,collectOngoing:!1,autoStacking:{active:!0,rowSpacing:50,range:st,fitToHeight:!0,topGap:10},periodLine:{defaultHide:!1,spacing:4,thickness:10,stacking:{sorter:Qt,reverseOrder:!1}},animation:{fade:{active:!0,duration:1500,easing:"swing"},move:{active:!0,duration:1500,easing:"swing"}},defaultStyle:{width:150,color:"#e9e9e9",topRadius:3,maxImageHeight:400,header:{height:50,text:{font:"normal 14px 'Segoe UI'",align:"left",baseline:"middle",margin:10,color:"#333",lineHeight:18,numberOfLines:2}},subheader:{height:30,color:"#555",text:{font:"normal 11px 'Segoe UI'",color:"#eee",align:"left",baseline:"middle",margin:10}},shadow:{x:0,y:0,amount:0,color:"#000"},border:{color:"#ddd",width:1},connectorLine:{offsetX:18,offsetY:-20,thickness:1,arrow:{width:16,height:45}},star:{width:16,margin:3}},defaultHoverStyle:{color:"#a6c6e2"},defaultActiveStyle:{color:"#337ab7",header:{text:{color:"#fff"}},subheader:{color:"#333"},shadow:{x:3,y:3,amount:5,color:"#333"},border:{width:2,color:"#2e6da4"},connectorLine:{thickness:2}}}};function ne(t,e){this.id=e,this.owner=t,this.isDataLoaded=!1,this.imageLoaded=!1,this.stacking=0,this.groupIndex=0,this.isActive=!1,this.isVisible=!1,this.isInRange=!1,this.isInView=!1,this.isVisibleInGroup=!1,this.isVisibleInRows=!0,this.isStarred=!1,this.isMouseOverStar=!1,this.isMouseover=!1,this.isDragging=!1,this.registeredPosition={left:0,top:0},this.position={left:0,top:0},this.dragStartOffset={left:0,top:0},this.indicator={fromX:0,toX:0},this.offset={left:0,top:0},this.finalOffset={left:0,top:0},this.isVisibleAfterFade=!1,this.opacity=0,this.fadeAnimation={finalOpacity:0,dummyElement:void 0},this.moveAnimation={finalOffset:{left:0,top:0},dummyElement:void 0},this.row=0,this.isFading=!1,this.isMoving=!1,this.activatedHandlers=[]}ne.prototype.setupByReceivedData=function(t){this.data=$.extend(!0,{},t),this.title=ue(t,"title")||"",this.rank=ue(t,"rank")||0,this.subtitle=ue(t,"subtitle")||"",this._setupArticlePeriod(t),this.initialiseStyles(t),this.offset.left=this.finalOffset.left=this.moveAnimation.finalOffset.left=t.offsetLeft||0,this.offset.top=this.finalOffset.top=this.moveAnimation.finalOffset.top=t.offsetTop||0,this.isStarred=!!t.starred,this.isDataLoaded=!0,this.isImageInfoLoaded=!1,this.hiddenByFilter=ue(t,"hiddenByFilter"),this.hidePeriodLine=ce(t,"hidePeriodLine")?ue(t,"hidePeriodLine"):this.owner.options.article.periodLine.defaultHide},ne.prototype._setupArticlePeriod=function(t){var e=new xt(yt()(ue(t,"from.year")),yt()(ue(t,"from.month")),yt()(ue(t,"from.day")));this.owner.getDmyFromInput(e);var i,o,n=yt()(ue(t,"from.precision")),r=ue(t,"isToPresent"),s=!0===r||1===r;s?i=xt.now():ce(t,"to")?(i=new xt(yt()(ue(t,"to.year")),yt()(ue(t,"to.month")),yt()(ue(t,"to.day"))),this.owner.getDmyFromInput(i),o=yt()(ue(t,"to.precision"))):(i=e,o=n);var a=xt.CreateAsStartOfPeriod(e,n),u=xt.CreateAsEndOfPeriod(i,o);this.period={from:a,to:u.getNextDay(),isToPresent:s},this.period.years=this.period.to.asFloat()-this.period.from.asFloat()},ne.prototype.setImage=function(){this.isImageInfoLoaded=!0,ue(this.data,"imageUrl")?this.owner.enqueueImageLoad(this):this.image=null},ne.prototype.registerPosition=function(t){this.registeredPosition=this.position=t},ne.prototype.overlaps=function(t){return t.period.from.isSame(this.period.from)&&t.period.to.isSame(this.period.to)||t.period.from.isBetween(this.period.from,this.period.to)||t.period.to.isBetween(this.period.from,this.period.to)||this.period.from.isBetween(t.period.from,t.period.to)||this.period.to.isBetween(t.period.from,t.period.to)},ne.prototype.overlapsInclusiveWithDates=function(t,e){return!(this.period.from.isAfter(e)||t.isAfter(this.period.to))},ne.prototype.overlapsInclusive=function(t){return this.overlapsInclusiveWithDates(t.period.from,t.period.to)},ne.prototype.isInside=function(t){return this.isVisible&&t.left>=this.position.left&&t.left<=this.position.left+this._getWidth()&&t.top>=this.position.top&&t.top<=this.position.top+this.height},ne.prototype.addActivatedHandler=function(t){this.activatedHandlers.push(t)},ne.prototype.activated=function(){for(var t=0;t<this.activatedHandlers.length;t++)this.activatedHandlers[t].call(this)},ne.prototype.mouseover=function(){this.isMouseover=!0},ne.prototype.mouseout=function(){this.isMouseover=!1},ne.prototype.updateIsMouseOverStar=function(t){var e=this.getStarBox(),i=this.isMouseOverStar;return this.isMouseOverStar=t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height,this.isMouseOverStar==i||this.owner.isAnimating||this.owner.redraw(),this.isMouseOverStar},ne.prototype.getCursor=function(t){return this.updateIsMouseOverStar(t),this.owner.options.article.draggable&&this.isActive?this.isMouseOverStar?"pointer":"move":"pointer"},ne.prototype.clicked=function(t){return this.activated(),this.updateIsMouseOverStar(t),!!this.isMouseOverStar&&(this.isStarred=!this.isStarred,!0)},ne.prototype.getStatusForSave=function(){var t={i:this.id};return 0!=this.offset.left&&(t.l=this.offset.left),0!=this.offset.top&&(t.t=this.offset.top),this.isStarred&&(t.v=!0),t},ne.prototype.headerOverlapsWith=function(t){var e=this.registeredPosition.left,i=t.registeredPosition.left,o=e+this._getWidth();return i+t._getWidth()>=e&&o>=i},ne.prototype._getWidth=function(){return this._getCurrentStyle().width},ne.prototype.setOption=function(t,e){var i=!1;if("string"==typeof t){if(void 0===e)return ue(this.data,t);t=Zt(t,e)}$.extend(!0,this.data,t),ce(t,"id")&&(this.id=t.id),ce(t,"title")&&(this.title=t.title,this.titleLines=void 0),ce(t,"subtitle")&&(this.subtitle=t.subtitle,this.summarisedSubtitle=void 0),(ce(t,"from")||ce(t,"to")||ce(t,"isToPresent"))&&(this._setupArticlePeriod(this.data),i=!0),ce(t,"imageUrl")&&this.setImage(),ce(t,"rank")&&(this.rank=t.rank,i=!0),ce(t,"starred")&&(this.isStarred=t.starred),ce(t,"hiddenByFilter")&&(this.hiddenByFilter=t.hiddenByFilter),ce(t,"hidePeriodLine")&&(this.hidePeriodLine=t.hidePeriodLine);var o=ce(t,"style"),n=ce(t,"activeStyle"),r=ce(t,"hoverStyle"),s=this.owner.options.article,a=!1;o?this.initialiseStyles(this.data):(r&&($.extend(!0,this.hoverStyle,t.hoverStyle),this.activeHoverStyle=$.extend(!0,{},this.hoverStyle,s.defaultActiveStyle,this.data.activeStyle),a=!0),n&&(this.activeStyle=$.extend(!0,this.activeStyle,t.activeStyle),a||$.extend(!0,this.activeHoverStyle,t.activeStyle))),i?this.owner.requestRedraw():this.owner.requestRedraw(this.redraw)},ne.prototype.initialiseStyles=function(t){var e=this.owner.options.article,i=$.extend(!0,{},e.defaultStyle,ue(t,"style")||{}),o=$.extend(!0,{},e.defaultActiveStyle,ue(t,"activeStyle")||{}),n=$.extend(!0,{},e.defaultHoverStyle,ue(t,"hoverStyle"));this.style=i,this.activeStyle=$.extend(!0,{},i,o),this.hoverStyle=$.extend(!0,{},i,n),this.activeHoverStyle=$.extend(!0,{},this.hoverStyle,o)},ne.prototype.setStyle=function(t,e){if("string"==typeof t){if(void 0===e)return ue(this.style,t);t=Zt(t,e)}this.data.style=$.extend(!0,this.data.style||{},t),this.initialiseStyles(this.data),this.owner.requestRedraw()},ne.prototype.setHoverStyle=function(t,e){if("string"==typeof t){if(void 0===e)return ue(this.activeStyle,t);t=Zt(t,e)}this.data.hoverStyle=$.extend(!0,this.data.hoverStyle||{},t),$.extend(!0,this.hoverStyle,t),this.activeHoverStyle=$.extend(!0,{},this.hoverStyle,this.owner.options.article.defaultActiveStyle,this.data.activeStyle),this.owner.requestRedraw()},ne.prototype.setActiveStyle=function(t,e){if("string"==typeof t){if(void 0===e)return ue(this.activeStyle,t);t=Zt(t,e)}this.data.activeStyle=$.extend(!0,this.data.activeStyle||{},t),$.extend(!0,this.activeStyle,t),$.extend(!0,this.activeHoverStyle,t),this.owner.requestRedraw()};var re={id:"i",title:"t",rank:"r",subtitle:"s","from.year":"fy","from.month":"fm","from.day":"fd","from.precision":"fp","to.year":"ty","to.month":"tm","to.day":"td","to.precision":"tp",isToPresent:"p",isStarred:"v","offset.left":"ol","offset.top":"ot",imageUrl:"m",style:"st",activeStyle:"ast",hiddenByFilter:"h",hidePeriodLine:"hp"};function se(t,e){var i=e.split(".");return Et()(i).call(i,(function(t,e){return t?t[e]:void 0}),t)}function ae(t){return Tt()(t).call(t,".")>-1}function ue(t,e){return ae(e)?se(t,e):function(t,e){return t.hasOwnProperty(e)?t[e]:t[re[e]]}(t,e)}function ce(t,e){return ae(e)?!Yt(se(t,e)):t.hasOwnProperty(e)}function le(t,e){var i,o;(this.options=$.extend(!0,{},oe,e),$(t).is("canvas"))?(this.canvas=$(t),this.options.width=this.canvas.width()):(this.canvas=$(k()(o="<canvas width='".concat(this.options.width,"' height='")).call(o,this.options.height,"'/>")),$(t).append(this.canvas));this.canvasContext=this.canvas[0].getContext("2d"),this.width=this.options.width,this.top=this.options.height-this.options.verticalOffset,this.repositionWindow=0,this.uniqueId="tl"+(new Date).getTime(),this.title="My timeline",this.ownerId=void 0,this.isInPublicDirectory=!1,this.cursor="default",this.mouseoverArticle=null,this.isDragging=!1,this.draggingArticle=null,this.dragStartX=0,this.isPanning=!1,this.isPinching=!1,this.isAnimating=!1,this.isAnimatingArticles=!1,this.isCustomAnimating=!1,this.animation={redrawFunction:!1,defaultRedrawFunction:this.repositionRedraw,dragRedrawFunction:this.defaultRedraw,panDummy:$("<span/>")},this.lastAnimatingArticle={id:null,endTime:0},this.topRow=0,this.loadingHttpRequests=[],this.articles=[],this.articleImageLoadQueue=[],this.redrawRequests={default:!1,reposition:!1},this.activatedHandlers=[],this.articleDoubleClickedHandlers=[],this.backgroundClickHandlers=[],this.redrawHandlers=[],this.options.onArticleClick&&this.addActivatedHandler(this.options.onArticleClick),this.options.onArticleDoubleClick&&this.addArticleDoubleClickedHandlers(this.options.onArticleDoubleClick),this.options.onBackgroundClick&&this.onBackgroundClick(this.options.onBackgroundClick),this.options.onRedraw&&this.onRedraw(this.options.onRedraw);var n=this.options.zoom,r=this.getDmyFromInput(new xt(this.options.initialDate));this.timescaleManager=new Mt(this,n),this.timescaleManager.setUnitLevels(),this.timescaleManager.addZoomChangedHandler(this.zoomChanged,this),this.timescaleManager.setZoom(n.initial),this.timescaleManager.setStartDate(r),this.options.enableUserControl&&(this.enableZoomByWheel(),this.enableDragging()),this.groups={level:-1,periods:[]},R()(I()(i=this.loadArticleImageFromQueue).call(i,this),5),this.requestRedraw()}Ut(ne.prototype,"hidePeriodLine"),Ut(ne.prototype,"hiddenByFilter"),le.prototype.setTitle=function(t){this.title=t,this.save(),PubSub.publish(EVENTS.TIMELINE_TITLE_CHANGED,t)},le.prototype.setIsInPublicDirectory=function(t){this.isInPublicDirectory=t,this.save(),PubSub.publish(EVENTS.TIMELINE_IS_IN_PUBLIC_DIRECTORY_CHANGED,t)},le.prototype.getWidth=function(){return this.canvas[0].width},le.prototype.isInVicinity=function(t,e,i){if("boolean"==typeof(e=Xt(e,this,t,i)))return e;var o=i||this.getRelativePosition(t);return o.top>this.top-e.up&&o.top<this.top+e.down},le.prototype.getPixel=function(t,e){var i,o=t.toKeyString();if(e){if((i=e.tokens).hasOwnProperty(o))return i[o]}else i={};this.getWidth();var n=this.repositionWindow,r=this.timescaleManager.startToken;return i[o]=this.timescaleManager.getPixelsBetween(r.value,t)+n},le.prototype.addActivatedHandler=function(t){this.activatedHandlers.push(t)},le.prototype.activated=function(t){if(t)for(var e=0;e<this.activatedHandlers.length;e++)this.activatedHandlers[e].call(this,t)},le.prototype.getRelativePosition=function(t){var e=this.canvas.offset(),i=jt(t);return{left:i.left-e.left,top:i.top-e.top}},le.prototype.getRelativeCoordinates=function(t){var e=this.canvas.offset();return{x:t.x-e.left,y:t.y-e.top}},le.prototype.getPagePosition=function(t){var e=this.canvas.parent().position();return{left:t.left+e.left,top:t.top+e.top}},le.prototype.updateCursor=function(t){var e=this.cursor,i=this.cursor=this.getCursor(t);e!==i&&this.canvas.css("cursor",i)},le.prototype.getCursor=function(t){if(this.isDragging)return"e-resize";var e=this.getRelativePosition(t);return this.draggingArticle?this.draggingArticle.getCursor(e):this.options.disableBranding||!this._isInsideHistropediaJSLink(e)&&!this._isInsideTermsLink(e)?null!==this.mouseoverArticle?this.mouseoverArticle.getCursor(e):"default":"pointer"},le.prototype.doubleClicked=function(t){for(var e=this.getRelativePosition(t),i=this.articles.length-1;i>=0;i--){var o=this.articles[i];if(o.isInside(e))return void this.articleDoubleClicked(o)}},le.prototype.addArticleDoubleClickedHandlers=function(t){this.articleDoubleClickedHandlers.push(t)},le.prototype.articleDoubleClicked=function(t){for(var e=0;e<this.articleDoubleClickedHandlers.length;e++)this.articleDoubleClickedHandlers[e].call(this,t)},le.prototype.onBackgroundClick=function(t){this.backgroundClickHandlers.push(t)},le.prototype.backgroundClicked=function(t,e){for(var i=0;i<this.backgroundClickHandlers.length;i++)this.backgroundClickHandlers[i].call(this,t,e)},le.prototype.onRedraw=function(t){this.redrawHandlers.push(t)},le.prototype.zoomChanged=function(){var t;this.currentDensitySetting&&(t=this.currentDensitySetting.region),this.updateCurrentDensitySetting(),t!==this.currentDensitySetting.region&&this.updateArticlesGroupIndex()},le.prototype.updateCurrentDensitySetting=function(){for(var t=0;t<ut.length;t++){var e=ut[t];if(this.timescaleManager.zoom>=e.zoom.from&&this.timescaleManager.zoom<e.zoom.to){this.currentDensitySetting=e;break}}},le.prototype.calculateEndToken=function(){var t,e=this.getWidth(),i=this.repositionWindow,o=this.timescaleManager.startToken;do{t=o,i+=(o=this.timescaleManager.getNext(o)).length}while(i<e);return t},le.prototype.getDensityPick=function(){switch(this.options.article.density){case it:return this.currentDensitySetting.low;case ot:return this.currentDensitySetting.medium;case nt:return this.currentDensitySetting.high;case rt:return this.currentDensitySetting.all}console.error("Unknown density selector:"+val)},le.prototype.invoke=function(t,e,i){e.hasOwnProperty(t)&&e[t].call(this,i)},le.prototype.forLoadedArticles=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];i.isDataLoaded&&t.call(this,i)}},le.prototype.forVisibleArticles=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];i.isDataLoaded&&i.isVisible&&t.call(this,i)}},le.prototype.forInRangeArticles=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];i.isDataLoaded&&(i.isInRange||i.isFading)&&t.call(this,i)}},le.prototype.enqueueImageLoad=function(t){this.articleImageLoadQueue.push(t)},le.prototype.loadArticleImageFromQueue=function(){var t=this.articleImageLoadQueue.pop();t&&(t.image=new Image,t.image.onload=function(){t.adjustHeightFromLoadedImage(),t.imageLoaded=!0,t.owner.requestRedraw(this.redraw)},t.image.src=ue(t.data,"imageUrl"))},le.prototype.setStartDate=function(t,e){e=e||0;"string"==typeof t&&(t=xt.fromString(t)),t=this.getDmyFromInput(t);var i=this.timescaleManager.setStartDate(t);this.repositionWindow=i,e&&this.updateFromByPixels(-e),this.requestRedraw()},le.prototype.setCentreDate=function(t,e){this.setStartDate(t,this.options.width/2+e)},le.prototype.setOption=function(t,e){if("string"==typeof t){var i=ue(this.options,t);if(void 0===e)return i;t=Zt(t,e)}$.extend(!0,this.options,t),(t.width||t.height)&&this.setSize(this.options.width,this.options.height),"number"==typeof t.verticalOffset&&(this.top=this.options.height-this.options.verticalOffset);var o=ce(t,"article.defaultStyle"),n=ce(t,"article.defaultActiveStyle"),r=ce(t,"article.defaultHoverStyle");(o||n||r)&&this.forLoadedArticles((function(t){t.initialiseStyles(t.data),t.titleLines=void 0,t.summarisedSubtitle=void 0})),this.requestRedraw()},le.prototype.setSize=function(t,e){this.canvas[0].height=this.options.width=e,this.canvas[0].width=this.width=this.options.width=t,this.top=e-this.options.verticalOffset,this.requestRedraw()},le.prototype.generateDensitySettings=function(){var t=this.timescaleManager.zoomOptions.ratio;console.log(this.timescaleManager);for(var e=[],i=Math.round(Math.log(.5)/Math.log(t)*100)/100,o=0;o<19;o++){var n={region:o+1,zoom:{from:o*i,to:(o+1)*i},low:1,medium:2,high:3,all:25,step:{months:0,days:Math.pow(2,o)}};e.push(n)}console.log(O()(e))};var he=i(46),fe=i.n(he);le.prototype.updateArticlesGroupIndex=function(){this.forLoadedArticles((function(t){t.groupIndex=this.calculateGroupIndex(t.period.from)}))},le.prototype.updateVisibleArticlesOfGroups=function(t){this.groups={};var e=this.options.article.autoStacking.range==at?1:20,i=this.calculateGroupIndex(t.tokens.start)-e,o=this.calculateGroupIndex(t.tokens.end)+e;this.forLoadedArticles((function(t){t.isVisibleInGroup=!1}));for(var n=i;n<=o;n++){var r;this.groups[n]=fe()(r=this.getArticlesInGroup(n,i,o)).call(r,(function(t){return t.isVisibleInGroup=!0,t.id}))}};le.prototype.getArticlesInGroup=function(t,e,i){function o(t){var e=t.rank;return t.isActive?e+=2e7:t.isStarred&&(e+=1e7),e}for(var n=this.getDensityPick(),r=[],s=0,a=0;a<this.articles.length;a++){var u=this.articles[a];if(u.isDataLoaded&&!u.isHiddenByFilter)Vt(u.groupIndex,e,i)===t&&(u.effectiveRank=o(u),r.length<n?(r.push(u),u.effectiveRank<r[s].effectiveRank&&(s=r.length-1)):u.effectiveRank>r[s].effectiveRank&&(r[s]=u,s=Wt(r,"effectiveRank")))}return r},le.prototype.calculateGroupIndex=function(t){if(this.timescaleManager.unit>=z&&0!==this.currentDensitySetting.step.months){var e=12*t.year+(t.month-1);return Math.floor(e/this.currentDensitySetting.step.months)}e=372*t.year+31*(t.month-1)+t.day;return 0===this.currentDensitySetting.step.days?Math.floor(e/(30*this.currentDensitySetting.step.months)):Math.floor(e/this.currentDensitySetting.step.days)},le.prototype.canBeVisibleInGroup=function(t,e,i){var o;if(t.isActive)return!0;e=e||this.timescaleManager.startToken,i=i||this.calculateEndToken();var n=this.calculateGroupIndex(e.value)-1,r=this.calculateGroupIndex(i.value)+1,s=Vt(t.groupIndex,n,r);return!!this.groups.hasOwnProperty(s)&&Tt()(o=this.groups[s]).call(o,t.id)>=0};var pe,de=i(99),ge=i.n(de),ve=i(223),me="data:image/png;base64,".concat(ve);le.prototype._drawBranding=function(t){this._drawLogo(t),this._drawCopyrightLinks(t)},le.prototype._drawLogo=function(t){var e;Yt(this.logo)?(this.logo=new Image,this.logo.onload=I()(e=this._drawLogoImage).call(e,this,t),this.logo.src=me):this._drawLogoImage(t)},le.prototype._drawLogoImage=function(t,e){t.drawImage(this.logo,5,this.top-Math.floor(this.options.style.mainLine.size/2)-34-5)};var ye=k()(pe="".concat("HistropediaJS"," | ")).call(pe,"Terms");"normal ".concat(10,'px "Helvetica Neue", Helvetica, Arial, sans-serif');function we(t,e){return t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height}le.prototype._drawCopyrightLinks=function(t){t.beginPath(),t.fillStyle="rgba(255, 255, 255, 0.8)",t.fillRect(this.width-100-3-20,this.top-Math.floor(this.options.style.mainLine.size/2)-18-3-2,120,20),t.textAlign="left",t.textBaseline="middle",t.fillStyle="#000000",t.font="normal ".concat(10,'px "Helvetica Neue", Helvetica, Arial, sans-serif');var e=this._getBrandingTextCoords();t.fillText(ye,e.left,e.top,110)},le.prototype._getBrandingTextCoords=function(){return{left:this.width-100-3-10,top:this.top-Math.floor(this.options.style.mainLine.size/2)-18-3+10-1}},le.prototype._isInsideHistropediaJSLink=function(t){var e=this._getBrandingTextCoords();return we(t,{left:e.left,top:e.top-5,width:63,height:10})},le.prototype._isInsideTermsLink=function(t){var e=this._getBrandingTextCoords();return we(t,{left:e.left+63+10,top:e.top-5,width:27,height:10})},le.prototype.enableDragging=function(){var t=this,e={relativePos:null,pagePos:null,time:0,isDoubleClick:!1,isArticleClick:!1,isArticleDoubleClick:!1,isTermsClick:!1,isHjsClick:!1,article:null},i={initial:{distance:0,zoom:0},centre:{},scale:1};this.canvas.on("mousedown touchstart",(function(o){if(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),o.preventDefault(),o.originalEvent.touches&&o.originalEvent.touches.length>1)!function(e){if(!e.originalEvent.touches||e.originalEvent.touches.length<2)return;i.centre=t.getRelativeCoordinates(Ht(e)),i.initial.distance=Bt(e),i.initial.zoom=t.timescaleManager.zoom,t.isPinching=!0,t.startAnimation()}(o);else{var n=e.relativePos=t.getRelativePosition(o);t.options.disableBranding||(e.isHjsClick=t._isInsideHistropediaJSLink(n),e.isTermsClick=t._isInsideTermsLink(n));var r=ge()();if(r-e.time<500&&(e.isDoubleClick=!0),e.time=r,!e.isHjsClick&&!e.isTermsClick)for(var s=t.articles.length-1;s>=0;s--){var a=t.articles[s];if(a.isVisible&&a.isInside(n)){if(e.isDoubleClick&&null!==e.article&&a.id===e.article.id&&(e.isArticleDoubleClick=!0),e.isArticleClick=!0,e.article=a,a.isActive&&t.options.article.draggable)return t.draggingArticle=a,void a.startDragging(n);break}}null===t.draggingArticle&&t.isInVicinity(o,t.options.draggingVicinity,n)&&t.startDragging(o)}})),$(document).on("mouseup touchend",(function(i){if(t.isPinching&&i.originalEvent.touches.length<2)return i.originalEvent.touches[0]&&(t.dragStartX=i.originalEvent.touches[0].pageX),void(t.isPinching=!1);var o,n,r=t.getRelativePosition(i);if(null!==e.relativePos&&(o=e.relativePos,n=r,!(Math.abs(o.left-n.left)>2||Math.abs(o.top-n.top)>2))){if(e.isHjsClick)window.open("https://js.histropedia.com","_blank"),e.isHjsClick=!1;else if(e.isTermsClick)window.open("https://js.histropedia.com/licence.html","_blank"),e.isHjsClick=!1;else if(e.isArticleClick){t.bringFront(e.article.id);e.article.clicked(e.relativePos);t.canvas.css("cursor",e.article.getCursor(r)),e.isArticleClick=!1,e.isArticleDoubleClick&&(t.articleDoubleClicked(e.article),e.isArticleDoubleClick=!1)}else t.backgroundClicked(i,e.isDoubleClick);e.isDoubleClick=!1}null!==t.draggingArticle?(t.draggingArticle.stopDragging(),t.draggingArticle=null):t.isDragging&&t.endDragging(),t.redraw()})),$(document).on("mousemove touchmove",(function(e){if(t.isPinching){var o=t.timescaleManager.zoomOptions.ratio,n=i.centre.x;i.centre=t.getRelativeCoordinates(Ht(e)),i.scale=Bt(e)/i.initial.distance;var r=Math.log(i.scale)/Math.log(o),s=n-i.centre.x;t.setZoomByPivotPixel(i.initial.zoom+r,i.centre.x,s)}else if(t.isDragging)t.doDrag(e);else if(null!==t.draggingArticle){var a=t.getRelativePosition(e);t.draggingArticle.dragging(a)}else"mousemove"===e.originalEvent.type&&t.updateMouseoverArticle(e);t.options.enableCursor&&t.updateCursor(e)}))},le.prototype.startDragging=function(t){this.isDragging=!0;var e=this.dragOrigin=jt(t);this.dragStartX=e.left,this.dragStartY=e.top},le.prototype.endDragging=function(t){this.isDragging=!1},le.prototype.doDrag=function(t){this.isPanning&&this.animation.panDummy.stop();var e=jt(t),i=this.dragStartX-e.left,o=(this.dragStartY,e.top,Math.abs(this.dragOrigin.left-e.left));this.dragStartX=e.left,this.isAnimating||this.startAnimation(),o>30&&(this.animation.dragRedrawFunction=this.defaultRedraw),this.updateFromByPixels(i)},le.prototype.updateFromByPixels=function(t){this.repositionWindow-=t;for(var e=this.timescaleManager.startToken,i=this.timescaleManager.getPrevious(e);this.repositionWindow>=i.length;)this.repositionWindow-=i.length,e=i,i=this.timescaleManager.getPrevious(e);for(;-this.repositionWindow>=e.length;)this.repositionWindow+=e.length,e=this.timescaleManager.getNext(e);this.timescaleManager.setStartToken(e)},le.prototype.updateMouseoverArticle=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.articles,i=this.getRelativePosition(t),o=this.mouseoverArticle,n=null,r=e.length-1;r>=0;r--){var s=e[r];if(s.isVisible&&s.isInside(i)){n=s;break}}this.mouseoverArticle=n,o!==n&&(null!==o&&o.mouseout(),null!==n&&n.mouseover(),this.requestRedraw(this.redraw))},ne.prototype.updateVisibility=function(){var t=this.isVisibleAfterFade,e=this.isInRange&&this.isVisibleInGroup&&this.isVisibleInRows&&!this.isHiddenByFilter;t!=e&&(e&&!this.isImageInfoLoaded&&this.setImage(),this.owner.options.article.animation.fade.active?this.setVisibilityWithFade(e):this.setVisibility(e))},ne.prototype.setVisibility=function(t){this.isVisible=this.isVisibleAfterFade=this.opacity=t},ne.prototype.setVisibilityWithFade=function(t){var e=this;if(t!=e.isVisibleAfterFade){e.isFading&&e.fadeAnimation.dummyElement.stop(),e.isFading=!0,t&&(e.isVisible=!0);var i=this.fadeAnimation;e.isVisibleAfterFade=i.finalOpacity=t,e.owner.notifyArticleAnimating("fade",e.id);var o=e.owner.options.article.animation.fade;i.dummyElement=i.dummyElement||$("<span />"),i.dummyElement.css("left",e.opacity);var n={left:i.finalOpacity},r={duration:o.duration,easing:o.easing,step:function(t,i){e.opacity=t},complete:function(){e.isFading=!1,0==t&&(e.isVisible=!1);var i=e.owner.lastAnimatingArticle;e.id===i.id&&"fade"===i.animationType&&(e.owner.isAnimatingArticles=!1)}};i.dummyElement.animate(n,r)}},ne.prototype.moveToOffset=function(t){this.finalOffset.top=this.offset.top=t.top||this.offset.top,this.finalOffset.left=this.offset.left=t.left||this.offset.left,this.position.top=this.registeredPosition.top+this.offset.top,this.position.left=this.registeredPosition.left+this.offset.left},ne.prototype.moveTo=function(t){var e={left:t.left-this.registeredPosition.left,top:t.top-this.registeredPosition.top};this.moveToOffset(e)},ne.prototype.moveToWithAnim=function(t){var e={left:t.left-this.registeredPosition.left,top:t.top-this.registeredPosition.top};this.moveToOffsetWithAnim(e)},ne.prototype.moveToOffsetWithAnim=function(t){var e=this,i=e.moveAnimation;if(t.top!=i.finalOffset.top||t.left!=i.finalOffset.left){i.finalOffset=this.finalOffset={left:t.left,top:t.top},e.isMoving&&i.dummyElement.stop(),e.isMoving=!0,e.owner.notifyArticleAnimating("move",e.id);var o=e.owner.options.article.animation.move,n=i.dummyElement=i.dummyElement||$("<span />");i.dummyElement.css("top",e.offset.top).css("left",e.offset.left);var r={top:t.top,left:t.left},s={duration:o.duration,easing:o.easing,step:function(t,i){e.offset.top=yt()(n.css("top")),e.offset.left=yt()(n.css("left")),e.position.top=e.registeredPosition.top+e.offset.top,e.position.left=e.registeredPosition.left+e.offset.left},complete:function(){e.isMoving=!1;var t=e.owner.lastAnimatingArticle;e.id===t.id&&"move"===t.animationType&&(e.owner.isAnimatingArticles=!1)}};n.animate(r,s)}};var Ae=i(27),Se=i.n(Ae),be=i(100),xe=i.n(be);function Oe(t,e,i,o,n,r){t.moveTo(e+r,i),t.lineTo(e+o-r,i),r>0&&t.quadraticCurveTo(e+o,i,e+o,i+r),t.lineTo(e+o,i+n),t.lineTo(e,i+n),t.lineTo(e,i+r),r>0&&t.quadraticCurveTo(e,i,e+r,i),0==r&&t.closePath()}function Pe(t,e,i,o){var n;switch(i){case"left":n=t+o;break;case"center":n=t+Math.floor(e/2);break;case"right":n=t+e-o}return n}ne.prototype.draw=function(t){if(this.isDataLoaded&&!isNaN(this.position.left)){t.globalAlpha=this.opacity;var e,i=this._getCurrentStyle(),o={top:Math.floor(this.position.top),left:Math.floor(this.position.left),width:this._getWidth(),height:this.height},n={left:o.left+i.border.width/2,top:o.top+i.border.width/2,width:o.width-i.border.width,height:o.height-i.border.width};i.shadow&&(t.shadowOffsetX=i.shadow.x,t.shadowOffsetY=i.shadow.y,t.shadowBlur=i.shadow.amount,t.shadowColor=i.shadow.color,t.fillStyle="#fff",t.fillRect(o.left,o.top+i.topRadius,o.width,o.height-i.topRadius),(e=t).shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor="transparent black"),t.save(),t.beginPath(),Oe(t,o.left,o.top,o.width,o.height,i.topRadius),t.clip();var r=i.header.height,s=i.subheader.height;t.fillStyle=i.color,t.fillRect(o.left,o.top,o.width,Math.ceil(r+i.border.width/2)),t.restore(),0!==i.subheader.height&&(t.fillStyle=i.subheader.color,t.fillRect(o.left,n.top+r,o.width,s),t.beginPath(),t.lineWidth=1,t.moveTo(n.left+5,n.top+r+1),t.lineTo(n.left+10,n.top+r-5),t.lineTo(n.left+15,n.top+r+1),t.closePath(),Se()(t).call(t));var a=i.header.text.align;t.fillStyle=i.header.text.color,t.font=i.header.text.font,t.textAlign=a,t.textBaseline=i.header.text.baseline;var u=i.header.text.margin,c=i.header.text.lineHeight,l=n.width-2*u,h=i.header.text.numberOfLines;Yt(this.titleLines)&&(this.titleLines=function(t,e,i){for(var o=[],n=e.split(/ /),r="",s=0;s<n.length;s++){var a=r+n[s];t.measureText(a).width<=i?r+=n[s]+" ":1===a.split(/ /).length?r+=n[s].substr(0,12)+"... \n":(o.push(r),r="",s--)}return""!=r&&o.push(r),o}(t,this.title,l),this.titleLines.length>h&&(this.titleLines[h-1]=function(t,e,i){for(var o=(e=xe()(e).call(e))+"…",n=e.length-1;t.measureText(o).width>i;)o=e.substr(0,n)+"…",n--;return o}(t,this.titleLines[h-1],l)));for(var f=Math.min(h,this.titleLines.length),p=n.top-((f-1)*c-r)/2,d=Pe(n.left,n.width,a,u),g=0;g<f;g++)t.fillText(this.titleLines[g],d,p,l),p+=c;if(0!==i.subheader.height){var v=i.subheader.text.align,m=i.subheader.text.margin,y=n.width-2*m;t.textAlign=v,t.textBaseline=i.subheader.text.baseline,t.fillStyle=i.subheader.text.color,t.font=i.subheader.text.font,Yt(this.summarisedSubtitle)&&(this.summarisedSubtitle=function(t,e,i){for(var o=e,n=e.length-1;t.measureText(o).width>i;)o=e.substr(0,n)+"…",n--;return o}(t,this.subtitle,y));var w=Pe(n.left,n.width,v,m);t.fillText(this.summarisedSubtitle,w,n.top+r+s/2,y)}if(this.imageLoaded){var A=r+i.subheader.height,S=n.width,b=n.height-A,x=n.left,O=n.top+A;t.fillStyle="#111",t.strokeStyle="#111",t.fillRect(x,O,S,b),t.drawImage(this.image,x,O,S,b)}if(i.border.width>0&&(t.beginPath(),Oe(t,o.left,o.top,o.width,o.height,i.topRadius),t.lineWidth=i.border.width,t.strokeStyle=i.border.color,t.stroke()),this.isActive||this.isStarred){var P,I,M=this.getStarBox();this.isStarred?this.isMouseOverStar?(P="#8A8A8A",I="#fff800"):(P="#a5a5a5",I="#fff800"):this.isMouseOverStar?(P="#8A8A8A",I="#dfdfdf"):(P="#a5a5a5",I="#ebebeb"),function(t,e,i,o,n,r,s,a){t.beginPath();for(var u=Math.PI/o,c=0;c<2*o;c++){var l=0==(1&c)?r:n,h=e+Math.cos(1+c*u)*l,f=i+Math.sin(1+c*u)*l;0==c?t.moveTo(h,f):t.lineTo(h,f)}t.closePath(),t.lineWidth=1,t.strokeStyle=a,t.fillStyle=s,t.stroke(),Se()(t).call(t)}(t,M.centreX,M.centreY,5,M.innerRadius,M.outerRadius,I,P)}}},ne.prototype._getCurrentStyle=function(){return this.isActive?this.isMouseover?this.activeHoverStyle:this.activeStyle:this.isMouseover?this.hoverStyle:this.style},ne.prototype.drawPeriodLinesAndConnectors=function(t,e){t.globalAlpha=this.opacity;var i=this._getCurrentStyle(),o=this.hidePeriodLine?0:this.owner.options.article.periodLine.spacing,n=this.hidePeriodLine?0:this.owner.options.article.periodLine.thickness,r=e-(o+n)*this.stacking-this.owner.options.style.mainLine.size/2-n/2;if(!this.hidePeriodLine){var s=this.indicator.fromX,a=this.indicator.toX;if(t.beginPath(),t.lineWidth=n,t.moveTo(s,r),t.lineTo(a,r),this.period.isToPresent){var u=a-s,c=Math.max(1-15/u,.7),l=t.createLinearGradient(s,r,a,r);l.addColorStop(0,i.color),l.addColorStop(c,i.color),l.addColorStop(1,"rgba(255,255,255,0)"),t.strokeStyle=l}else t.strokeStyle=i.color;t.stroke()}var h=Math.max(0,this.indicator.fromX),f=r,p=this.position.left+i.connectorLine.offsetX,d=this.position.top+this.height+i.connectorLine.offsetY;t.strokeStyle=t.fillStyle=i.color,t.lineWidth=i.connectorLine.thickness,t.beginPath(),t.moveTo(h,f),t.lineTo(p,d),t.stroke();var g=Math.atan((d-f)/(p-h))+(p>=h?-90:90)*Math.PI/180;t.save(),t.beginPath(),t.translate(p,d),t.rotate(g),t.moveTo(-i.connectorLine.arrow.width,0),t.lineTo(i.connectorLine.arrow.width,0),t.lineTo(0,-i.connectorLine.arrow.height),t.closePath(),t.restore(),Se()(t).call(t)},ne.prototype.getStarBox=function(){var t=this._getCurrentStyle(),e=t.star.width,i={width:e,height:e};return i.left=Math.floor(this.position.left)-t.topRadius/4+this._getWidth()-i.width-t.star.margin,i.top=Math.floor(this.position.top)+t.topRadius/4+t.star.margin,i.centreX=i.left+i.width/2,i.centreY=i.top+i.height/2,i.outerRadius=i.width/2,i.innerRadius=i.outerRadius/2,i},ne.prototype.adjustHeightFromLoadedImage=function(){var t=this._getCurrentStyle(),e=0;if(this.imageLoaded){var i=this._getWidth()/this.image.width;e=Math.min(this.image.height*i,t.maxImageHeight)}var o=t.header.height+t.subheader.height+t.border.width/2;this.height=e+o},ne.prototype.startDragging=function(t){this.isMoving&&this.moveAnimation.dummyElement.stop(),this.isDragging=!0,this.dragStartOffset={left:t.left-this.position.left,top:t.top-this.position.top},this.owner.startAnimation()},ne.prototype.stopDragging=function(){this.offset=this.finalOffset=this.moveAnimation.finalOffset={left:this.position.left-this.registeredPosition.left,top:this.position.top-this.registeredPosition.top},this.isDragging=!1},ne.prototype.dragging=function(t){this.position={left:t.left-this.dragStartOffset.left,top:t.top-this.dragStartOffset.top}};var Ie=ne;le.prototype.load=function(t){this.addArticles(t),this.updateCurrentDensitySetting(),this.updateArticlesGroupIndex(),this.requestRedraw()},le.prototype.addArticles=function(t,e,i){var o;if(0!=t.length){for(var n=fe()(o=this.articles).call(o,(function(t){return t.id})),r=[],s=0;s<t.length;s++){var a=t[s];-1===Tt()(n).call(n,ue(a,"id"))&&r.push(a)}var u=this;for(s=0;s<r.length;s++){a=new Ie(this,ue(r[s],"id"));this.articles.push(a),a.addActivatedHandler((function(){u.activated(this)})),a.setupByReceivedData(r[s]),a.registerPosition(this.getOriginalPosition(a))}this.updateIsActiveStatus(),i&&i.call(this)}else i&&i.call(this)},le.prototype.getDmyFromInput=function(t){return this.options.shiftBceDates?(t.year<0&&(t.year+=1),t):t},le.prototype.getActiveArticle=function(){for(var t=this.articles.length-1;t>=0;t--)if(this.articles[t].isActive)return this.articles[t];return null},le.prototype.getArticleById=function(t){for(var e=0;e<this.articles.length;e++){var i=this.articles[e];if(i.id==t)return i}},le.prototype.bringFront=function(t){var e=Ft(this.articles,t);e>=0&&function(t,e,i){if(i>=t.length)for(var o=i-t.length;1+o--;)t.push(void 0);Dt()(t).call(t,i,0,Dt()(t).call(t,e,1)[0])}(this.articles,e,this.articles.length-1),this.updateIsActiveStatus(),this.save()},le.prototype.updateIsActiveStatus=function(){for(var t=0;t<this.articles.length;t++)this.articles[t].isActive=!1;for(t=this.articles.length-1;t>=0;t--)if(this.articles[t].isDataLoaded)return void(this.articles[t].isActive=!0)},le.prototype.getVisibleArticlesClone=function(){for(var t=[],e=0;e<this.articles.length;e++){var i=this.articles[e];i.isVisible&&i.isDataLoaded&&t.push(i)}return t},le.prototype.hasArticle=function(t){for(var e,i=0;i<this.articles.length;i++)this.articles[i].id===t&&(e=this.articles[i]);return!isUndefined(e)},le.prototype.reposition=function(t,e){if(!t.isDragging){var i=this.getOriginalPosition(t,e);t.registeredPosition=i;var o=t.finalOffset;if(!this.options.article.animation.move.active)return t.position={left:i.left+o.left,top:i.top+o.top},void(t.offset={left:o.left,top:o.top});t.moveAnimation.finalOffset.top!=o.top||t.moveAnimation.finalOffset.left!=o.left?t.moveToOffsetWithAnim(o,!0):t.position={left:i.left+t.offset.left,top:i.top+t.offset.top}}},le.prototype.getOriginalPosition=function(t,e){var i=this.getPixel(t.period.from,e),o=this.getPixel(t.period.to,e),n=isNaN(i)||i<0,r=isNaN(o)||o>0;return this.options.article.collectOngoing&&n&&r&&(i=0),{left:i-t._getCurrentStyle().connectorLine.offsetX,top:this.top-this.options.article.distanceToMainLine}},le.prototype.reorderArticles=function(t){for(var e=[],i=0;i<t.length;i++){var o=Ft(this.articles,t[i]);e.push(this.articles[o])}this.articles=e},le.prototype.getSortedByYearClone=function(){},le.prototype.removeArticleById=function(t){for(var e=0;e<this.articles.length;e++){var i;this.articles[e].id==t&&Dt()(i=this.articles).call(i,e,1)}},le.prototype.deleteCurrentArticle=function(){if(0!=this.articles.length){this.removeById(this.articles,this.getActiveArticle().id),this.requestRedraw();for(var t=this.articles.length-1;t>=0;t--){var e=this.articles[t];if(e.isVisible)return this.bringFront(e.id),this.activated(this.getActiveArticle()),void this.requestRedraw()}}},le.prototype.pp=function(t){for(var e="",i=0;i<this.articles.length;i++)e+=this.articles[i].title.split(" ")[0]+",";t=t||"",console.log(t+":"+e)},le.prototype.defaultRedraw=function(){this.redraw({onArticlesInRangeIsReady:function(t){this.updateVisibleArticlesOfGroups(t),this.forInRangeArticles((function(e){this.reposition(e,t)})),this.stack(t)},onArticlesVisiblityIsReady:function(t){this.updateArticleLines()}})},le.prototype.repositionRedraw=function(){this.redraw({onArticlesInRangeIsReady:function(t){this.updateVisibleArticlesOfGroups(t),this.forInRangeArticles((function(e){this.reposition(e,t)}))},onArticlesVisiblityIsReady:function(t){this.updateArticleLines()}})},le.prototype.redraw=function(t){var e;if(!this.redrawInProgress){this.redrawInProgress=!0;var i=this.topRow;t=t||{};var o={},n=this.canvasContext,r=this.getWidth(),s=this.top,a=this.getTokensAndMarkers(r),u=a.markers,c=a.tokens;o.tokens=c,this.invoke("onMainRangeIsReady",t,o),this.forLoadedArticles((function(t){t.isInView=t.overlapsInclusiveWithDates(o.tokens.start,o.tokens.end),this.options.article.autoStacking.range==at?t.isInRange=t.isInView:t.isInRange=!0,t.isInRange&&(t.isHiddenByFilter=t.hiddenByFilter)})),this.invoke("onArticlesInRangeIsReady",t,o),this.forLoadedArticles((function(t){t.updateVisibility()})),lt()(e=this.articleImageLoadQueue).call(e,Kt),this.invoke("onArticlesVisiblityIsReady",t,o),this.forInRangeArticles((function(t){t.indicator={fromX:Math.max(-3,Math.round(this.getPixel(t.period.from,o))),toX:Math.min(this.options.width,Math.round(this.getPixel(t.period.to,o)))},t.indicator.toX-t.indicator.fromX<2&&(t.indicator.toX=t.indicator.fromX+2),t.adjustHeightFromLoadedImage()})),this.options.article.autoStacking.fitToHeight&&i!==this.topRow&&this.fitToHeight(!0),this.render(n,s,r,u),this.redrawInProgress=!1;for(var l=0;l<this.redrawHandlers.length;l++)this.redrawHandlers[l].call(this,{canvasContext:n,drawCycleContext:o,top:s})}},le.prototype.render=function(t,e,i,o){var n=this.options.style.mainLine.size>>1;this.owner||t.clearRect(0,0,i,this.top+this.options.verticalOffset),this.drawDraggingHighlight(t,e,i),this.drawMainline(t,e,i,o),t.beginPath(),this.forInRangeArticles((function(i){!i.isHiddenByFilter&&i.isInView&&(t.moveTo(i.indicator.fromX,e-n),t.lineTo(i.indicator.fromX,e+n))})),t.lineWidth=3,t.globalAlpha=.75,t.strokeStyle="#303030",t.stroke(),t.globalAlpha=1;for(var r=0;r<this.articles.length;r++){(a=this.articles[r]).isDataLoaded&&a.isVisible&&!a.isActive&&a.drawPeriodLinesAndConnectors(t,e)}for(var s=0;s<this.articles.length;s++){var a;(a=this.articles[s]).isDataLoaded&&a.isVisible&&!a.isActive&&a.draw(t)}var u=this.getActiveArticle();u&&u.isVisible&&(u.drawPeriodLinesAndConnectors(t,e),u.draw(t)),this.options.disableBranding||(t.globalAlpha=1,this._drawBranding(t))},le.prototype.drawMainline=function(t,e,i,o){if(this.options.style.mainLine.visible){t.globalAlpha=1;var n=this.options.style.mainLine.size>>1,r=t.createLinearGradient(0,e-n,0,e+n);for(var s in r.addColorStop(0,"#808080"),r.addColorStop(1,"#ccc"),t.beginPath(),t.lineWidth=this.options.style.mainLine.size,t.strokeStyle=t.fillStyle=r,t.moveTo(0,e),t.lineTo(i,e),t.stroke(),o)this.drawMarkersAndLabels(t,o[s],s,e+n)}},le.prototype.drawDraggingHighlight=function(t,e,i){if(this.isDragging&&this.options.style.draggingHighlight.visible){t.fillStyle=this.options.style.draggingHighlight.color;var o=this.options.style.draggingHighlight.area;t.fillRect(0,e-o.up,i,o.up+o.down)}},le.prototype.getTokensAndMarkers=function(t){var e={},i={};i[L]=[],i[D]=[];var o=this.repositionWindow,n=this.timescaleManager.startToken;e.start=n.value;var r=n;o-=9*(n=this.timescaleManager.getPreviousNth(n,9)).length;do{i[n.type].push(n),e[n.value.toKeyString()]=n.drawX=o,o+=n.length,r=n,n=this.timescaleManager.getNext(n)}while(o<t+150);return e.end=r.value,{tokens:e,markers:i}},le.prototype.drawMarkersAndLabels=function(t,e,i,o){if(0!==e.length){switch(i){case O()(D):i="minor";break;case O()(L):i="major";break;default:console.log("token type not recognised",i,D)}var n=this.options.style.marker[i],r=n.height,s=!!e[0].label,a=e[0].value.isInFuture(),u=!a;if(s){var c=this.options.style.dateLabel[i];t.font=c.font,t.textAlign=c.textAlign,t.textBaseline="alphabetic";var l=o+r+c.offset.y}t.beginPath();for(var h=0;h<e.length;h++){var f=e[h];a=f.value.isInFuture(),u&&a&&(u=!1,t.strokeStyle=n.color,t.lineWidth=1,t.stroke(),t.beginPath());var p=Math.round(f.drawX);if(t.moveTo(p,o),t.lineTo(p,o+r),s&&f.label){var d=p+c.offset.x;t.fillStyle=a?c.futureColor:c.color,t.fillText(f.label,d,l)}}t.strokeStyle=a?n.futureColor:n.color,t.lineWidth=1,t.stroke()}};var Me=i(101),Re=i.n(Me);le.prototype.updateArticleLines=function(){var t=this;function e(t,e){for(var i=0;i<e.length;i++)if(t.overlaps(e[i]))return!1;return!0}var i,o=(this.articles,i=[],t.forVisibleArticles((function(t){t.hidePeriodLine||(i.push(t),i[i.length-1].stacking=-1)})),lt()(i).call(i,t.options.article.periodLine.stacking.sorter),t.options.article.periodLine.stacking.reverseOrder&&Re()(i).call(i),i),n=0,r=[];do{r[n]=[];for(var s=!1,a=0;a<o.length;a++){var u=o[a];u.stacking>=0||e(u,r[n])&&(r[n].push(u),u.stacking=n,s=!0)}n++}while(s)},le.prototype.stack=function(t){var e;if(0!=this.articles.length){var i=this.options.article.autoStacking.rowSpacing;if(this.options.article.autoStacking.active){for(var o=function(t){for(var e,i,o=[],n=[],r=0;r<t.length;r++){var s=t[r];s.isDataLoaded&&s.isInRange&&s.isVisibleInGroup&&!s.isHiddenByFilter&&(s.isActive?i=s:s.isStarred?o.push(s):n.push(s))}return lt()(o).call(o,te),lt()(n).call(n,te),k()(e=[]).call(e,i||[],o,n)}(this.articles),n=[],r=0;r<o.length;r++)o[r].isVisibleInRows=l(n,o[r]);this.topRow=0;for(var s=0;s<n.length;s++)for(r=0;r<n[s].length;r++){var a=n[s][r];a.finalOffset={left:0,top:s*-i},a.row=s,a.isInView&&(this.topRow=Math.max(this.topRow,s)),this.reposition(a,t)}var u=this.getActiveArticle();lt()(e=this.articles).call(e,$t),u&&this.bringFront(u.id)}}function c(t,e){for(var i=0;i<t.length;i++){var o=t[i];if(e.headerOverlapsWith(o))return!1}return!0}function l(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)if(c(t[i],e))return i;return t.length}(t,e);return i>=t.length&&(t[i]=[]),t[i].push(e),!0}},le.prototype.isInManualStackingMode=function(){return 0==this.options.article.rowSpacing},le.prototype.notifyEventSpacingChanged=function(){var t=this;this.isInManualStackingMode()&&function(){for(var e=-(this.canvas.height()-this.options.article.distanceToMainLine),i=0;i<t.articles.length;i++){var o=t.articles[i];(!o.isVisibleInRows||o.offset.top<=e)&&(o.isVisibleInRows=!0,o.offset={left:0,top:e})}}(),this.defaultRedraw()},le.prototype.getStatusForSave=function(){for(var t=this.timescaleManager.startToken.value,e=[],i=0;i<this.articles.length;i++)e.push(this.articles[i].getStatusForSave());return O()({t:this.title,o:this.ownerId,pd:this.isInPublicDirectory,z:this.timescaleManager.zoom,fy:t.year,fm:t.month,fd:t.day,w:this.repositionWindow,a:e,v:this.version})},le.prototype.deferredSave=function(){if(!isEmbeddedMode){this.saveSchedule&&clearTimeout(this.saveSchedule);var t=this;this.saveSchedule=zt()((function(){t.save(),t.saveSchedule=null}),500)}},le.prototype.save=function(){this.restoring||this.options.onSave&&this.options.onSave(this.getStatusForSave())},le.prototype.getCurrentState=function(){return JSON.parse(localStorage.getItem(STATE_KEY)||'{"a":[]}')},le.prototype.mergeWithLocalStorage=function(t){for(var e,i=this.getCurrentState(),o=i.a,n=[],r=0;r<o.length;r++){var s=o[r];(isUndefined(e)||s.c>e)&&(e=s.c+1),n.push(s.i)}for(r=0;r<t.a.length;r++){s=t.a[r];-1==Tt()(n).call(n,s.i)&&(s.c=e%PERIOD_COLOURS.length,e++,i.a.push(s))}return i},le.prototype.enableZoomByWheel=function(){var t=this;this.canvas.mousewheel((function(e,i){t.onWheel(e,i)}))},le.prototype.onWheel=function(t,e){var i=this.timescaleManager.zoom+-e*this.options.zoom.wheelSpeed*this.options.zoom.wheelStep;i>this.options.zoom.maximum&&(i=this.options.zoom.maximum),i<this.options.zoom.minimum&&(i=this.options.zoom.minimum);var o=t.pageX-this.canvas.parent().offset().left;this.setZoomByPivotPixel(i,o),this.requestRedraw(),function(t){if(!t)t=window.event;t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&(t.stopPropagation(),t.preventDefault())}(t)},le.prototype.setZoom=function(t,e,i){e=e||this.width/2;i&&(i=Math.round(i)),this.setZoomByPivotPixel(t,e,i),this.requestRedraw()},le.prototype.setZoomByPivotPixel=function(t,e,i){this.setZoomByPivotPoint(t,this.getPivotPoint(e),e,i)},le.prototype.setZoomByPivotPoint=function(t,e,i,o){o=o||0;this.timescaleManager.setZoom(t);var n=this.timescaleManager.setStartDate(e.date);this.repositionWindow=n-e.fraction,this.updateFromByPixels(-i+o)},le.prototype.getPivotPoint=function(t){var e=this.timescaleManager.getStartTokenCloned(),i=this.repositionWindow;i>=0&&(i-=(e=this.timescaleManager.getPrevious(e)).length);for(var o=e;i<=t;)i+=e.length,o=e,e=this.timescaleManager.getNext(e);var n=o.value,r=n.year,s=n.month,a=n.day,u=o.unit,c=t-(i-e.length),l=o.length;if(u===z)c-=((a=Math.floor(c/l*30.44)+1)-1)*l/30.44,o.value=new xt(r,s,a);else if(u!==C){var h=this.timescaleManager.unitLengthInYears,f=Math.floor(365.2422*c*h/l)+1,p=0;f>365&&(f-=365*(p=Math.floor(f/365))),c=0,o.value=xt.getByDayOfYear(r+p,f)}return{date:o.value,fraction:c}};var Te=i(102),ke=i.n(Te);function De(t,e){var i=A()(t);if(y.a){var o=y()(t);e&&(o=v()(o).call(o,(function(e){return d()(t,e).enumerable}))),i.push.apply(i,o)}return i}function Le(t){for(var e=1;e<arguments.length;e++){var i,o=null!=arguments[e]?arguments[e]:{};if(e%2)f()(i=De(Object(o),!0)).call(i,(function(e){b()(t,e,o[e])}));else if(l.a)u()(t,l()(o));else{var n;f()(n=De(Object(o))).call(n,(function(e){s()(t,e,d()(o,e))}))}}return t}le.prototype.startAnimation=function(t){this.isAnimating||(this.isAnimating=!0,this.animation.redrawFunction=t,this.drawAnimationFrame())},le.prototype.stopAnimation=function(){this.isAnimating=!1,this.animation.dragRedrawFunction=this.repositionRedraw,this.animation.redrawFunction=!1},le.prototype.areAnimationsFinished=function(){return!(this.isDragging||this.isPanning||this.isPinching||null!==this.draggingArticle||this.isAnimatingArticles||this.isCustomAnimating)},le.prototype.drawAnimationFrame=function(){if(this.areAnimationsFinished())return this.stopAnimation();var t=this,e=this.getAnimationRedrawFunction();this.updateRedrawRequests(e),requestAnimationFrame((function(i){e.call(t),t.drawAnimationFrame()}))},le.prototype.requestRedraw=function(t){t=t||this.defaultRedraw;if(!this.isAnimating)return t.call(this);t===this.defaultRedraw&&(this.redrawRequests.default=!0),t===this.repositionRedraw&&(this.redrawRequests.reposition=!0)},le.prototype.updateRedrawRequests=function(t){t===this.defaultRedraw&&(this.redrawRequests.default=!1,this.redrawRequests.reposition=!1),t===this.repositionRedraw&&(this.redrawRequests.reposition=!1)},le.prototype.getAnimationRedrawFunction=function(){return this.isDragging?this.animation.dragRedrawFunction:this.isPanning||this.isPinching||this.redrawRequests.default?this.defaultRedraw:this.redrawRequests.reposition?this.repositionRedraw:this.animation.redrawFunction||this.animation.defaultRedrawFunction},le.prototype.switchToPositiveRepositionWindow=function(){if(this.repositionWindow<0){var t=this.timescaleManager.startToken;this.repositionWindow=t.length+this.repositionWindow,t=this.timescaleManager.getNext(t),this.timescaleManager.setStartToken(t)}},le.prototype.zoomToAnim=function(t,e){var i=$("<span />").css("left",this.timescaleManager.zoom),o=this;i.animate({left:t},{duration:2e3,step:function(t,e){o.setZoom(t)},complete:function(){e&&e.call(o)}})},le.prototype.goToPixelAnim=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isPanning&&this.animation.panDummy.stop(),this.isPanning=!0;var o=this.animation.panDummy=this.animation.panDummy||$("<span />"),n=1e8,r=!1;Math.abs(t)>n&&(t=ke()(t)*n,r=!0),o.css("left",0),this.startAnimation();var s=0;o.animate({left:t},{duration:i.duration||2e3,easing:i.easing||"swing",step:function(t,i){var n=t-s;s=t,e.updateFromByPixels(n),e.isPinching&&(o.stop(),e.isPanning=!1)},complete:function(){r&&i.targetDmy&&e.setStartDate(i.targetDmy),e.isPanning=!1,i.complete&&i.complete.call(e)}})},le.prototype.goToDateAnim=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.switchToPositiveRepositionWindow(),this.getDmyFromInput(t);var i=this.timescaleManager.startToken.value,o=this.repositionWindow-this.timescaleManager.getPixelsBetween(t,i);e.offsetX&&(o-=e.offsetX),e.targetDmy=t,this.goToPixelAnim(o,e)},le.prototype.repositionWithAnim=function(t){var e=this.getOriginalPosition(t);t.registeredPosition=e;var i={left:e.left+t.dragFinishOffset.left,top:e.top+t.dragFinishOffset.top};t.moveToWithAnim(i)},le.prototype.notifyArticleAnimating=function(t,e){var i=(new Date).getTime()+this.options.article.animation[t].duration;i>this.lastAnimatingArticle.endTime&&(this.lastAnimatingArticle.id=e,this.lastAnimatingArticle.endTime=i,this.lastAnimatingArticle.animationType=t),this.isAnimatingArticles=!0,this.startAnimation()},le.prototype.toggleAutoFit=function(){var t=this.options.article.autoStacking.fitToHeight=!this.options.article.autoStacking.fitToHeight;return t&&this.fitToHeight(!0),t},le.prototype.fitToHeight=function(t){if(1!==this.topRow+1){var e=this.options.article.autoStacking.rowSpacing=this.getFitToHeightRowSpacing();return t&&this.requestRedraw(),e}},le.prototype.getFitToHeightRowSpacing=function(){var t=this.options,e=this.top-t.article.distanceToMainLine,i=Xt(t.article.autoStacking.topGap,this),o=this.topRow;if(0==o)return!1;var n=Math.abs(e-i),r=o;return Math.max(Math.round(n/r),1)},le.prototype.incrementRowSpacing=function(t,e){return this.options.article.rowSpacing=Math.max(this.options.article.rowSpacing+t,1),e&&this.requestRedraw(),this.options.article.rowSpacing};var Ee=Le(Le({Timeline:le,Article:Ie,Dmy:xt},n),o)}])}));